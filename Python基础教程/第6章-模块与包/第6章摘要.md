# ç¬¬6ç« ï¼šæ¨¡å—ä¸åŒ…

## ç›®å½•
- [6.1 ä»€ä¹ˆæ˜¯æ¨¡å—å’ŒåŒ…ï¼Ÿ](#61-ä»€ä¹ˆæ˜¯æ¨¡å—å’ŒåŒ…)
- [6.2 å¯¼å…¥æ¨¡å—](#62-å¯¼å…¥æ¨¡å—)
  - [6.2.1 import è¯­å¥](#621-import-è¯­å¥)
  - [6.2.2 from...import è¯­å¥](#622-fromimport-è¯­å¥)
  - [6.2.3 å¯¼å…¥åˆ«å](#623-å¯¼å…¥åˆ«å)
  - [6.2.4 å¯¼å…¥æ¨¡å—ä¸­çš„æ‰€æœ‰å†…å®¹](#624-å¯¼å…¥æ¨¡å—ä¸­çš„æ‰€æœ‰å†…å®¹)
- [6.3 æ ‡å‡†åº“å¸¸ç”¨æ¨¡å—](#63-æ ‡å‡†åº“å¸¸ç”¨æ¨¡å—)
  - [6.3.1 math - æ•°å­¦è¿ç®—](#631-math---æ•°å­¦è¿ç®—)
  - [6.3.2 random - éšæœºæ•°](#632-random---éšæœºæ•°)
  - [6.3.3 datetime - æ—¥æœŸæ—¶é—´](#633-datetime---æ—¥æœŸæ—¶é—´)
  - [6.3.4 os - æ“ä½œç³»ç»Ÿæ¥å£](#634-os---æ“ä½œç³»ç»Ÿæ¥å£)
  - [6.3.5 sys - ç³»ç»Ÿç›¸å…³](#635-sys---ç³»ç»Ÿç›¸å…³)
  - [6.3.6 json - JSONæ•°æ®å¤„ç†](#636-json---jsonæ•°æ®å¤„ç†)
- [6.4 åˆ›å»ºè‡ªå®šä¹‰æ¨¡å—](#64-åˆ›å»ºè‡ªå®šä¹‰æ¨¡å—)
- [6.5 åŒ…çš„ç»“æ„å’Œç®¡ç†](#65-åŒ…çš„ç»“æ„å’Œç®¡ç†)
- [6.6 ç¬¬ä¸‰æ–¹åŒ…ç®¡ç†](#66-ç¬¬ä¸‰æ–¹åŒ…ç®¡ç†)
  - [6.6.1 pip åŒ…ç®¡ç†å™¨](#661-pip-åŒ…ç®¡ç†å™¨)
  - [6.6.2 è™šæ‹Ÿç¯å¢ƒ](#662-è™šæ‹Ÿç¯å¢ƒ)
- [6.7 ç»¼åˆç¤ºä¾‹](#67-ç»¼åˆç¤ºä¾‹)
- [6.8 æœ¬ç« ç»ƒä¹ ](#68-æœ¬ç« ç»ƒä¹ )

---

## 6.1 ä»€ä¹ˆæ˜¯æ¨¡å—å’ŒåŒ…ï¼Ÿ

### æ¨¡å—çš„æ¦‚å¿µ
**æ¨¡å—** æ˜¯ä¸€ä¸ªåŒ…å« Python ä»£ç çš„æ–‡ä»¶ï¼Œä»¥ `.py` ä¸ºæ‰©å±•åã€‚æ¨¡å—å¯ä»¥åŒ…å«ï¼š
- å‡½æ•°å®šä¹‰
- ç±»å®šä¹‰
- å˜é‡
- å¯æ‰§è¡Œä»£ç 

```python
# å‡è®¾æœ‰ä¸€ä¸ªåä¸º calculator.py çš„æ¨¡å—
# calculator.py çš„å†…å®¹ï¼š
"""
calculator.py - è®¡ç®—å™¨æ¨¡å—
"""

def add(a, b):
    """åŠ æ³•"""
    return a + b

def subtract(a, b):
    """å‡æ³•"""
    return a - b

def multiply(a, b):
    """ä¹˜æ³•"""
    return a * b

def divide(a, b):
    """é™¤æ³•"""
    if b == 0:
        return "é”™è¯¯ï¼šé™¤æ•°ä¸èƒ½ä¸ºé›¶"
    return a / b

PI = 3.141592653589793

# ä½¿ç”¨æ¨¡å—
# main.py çš„å†…å®¹ï¼š
import calculator

result = calculator.add(5, 3)
print(f"5 + 3 = {result}")
print(f"Ï€çš„å€¼: {calculator.PI}")
```

### åŒ…çš„æ¦‚å¿µ
**åŒ…** æ˜¯ä¸€ä¸ªåŒ…å«å¤šä¸ªæ¨¡å—çš„ç›®å½•ï¼Œç›®å½•ä¸­å¿…é¡»æœ‰ä¸€ä¸ª `__init__.py` æ–‡ä»¶ï¼ˆå¯ä»¥æ˜¯ç©ºæ–‡ä»¶ï¼‰ã€‚

```
my_package/
â”œâ”€â”€ __init__.py          # åŒ…çš„åˆå§‹åŒ–æ–‡ä»¶
â”œâ”€â”€ module1.py           # æ¨¡å—1
â”œâ”€â”€ module2.py           # æ¨¡å—2
â””â”€â”€ subpackage/          # å­åŒ…
    â”œâ”€â”€ __init__.py
    â””â”€â”€ module3.py
```

### ä¸ºä»€ä¹ˆéœ€è¦æ¨¡å—å’ŒåŒ…ï¼Ÿ
1. **ä»£ç ç»„ç»‡**ï¼šå°†ç›¸å…³ä»£ç ç»„ç»‡åœ¨ä¸€èµ·
2. **ä»£ç å¤ç”¨**ï¼šå¯ä»¥åœ¨å¤šä¸ªé¡¹ç›®ä¸­ä½¿ç”¨ç›¸åŒçš„æ¨¡å—
3. **å‘½åç©ºé—´ç®¡ç†**ï¼šé¿å…å‘½åå†²çª
4. **åä½œå¼€å‘**ï¼šå¤šäººåä½œæ—¶å¯ä»¥åˆ†å·¥å¼€å‘ä¸åŒæ¨¡å—

```python
# æ²¡æœ‰æ¨¡å—çš„æƒ…å†µ - æ‰€æœ‰ä»£ç åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­
# main.py å˜å¾—éå¸¸åºå¤§å’Œéš¾ä»¥ç»´æŠ¤

# ä½¿ç”¨æ¨¡å—çš„æƒ…å†µ - ä»£ç æŒ‰åŠŸèƒ½åˆ†ç¦»
# main.py (ä¸»ç¨‹åº)
# math_utils.py (æ•°å­¦å·¥å…·)
# data_processor.py (æ•°æ®å¤„ç†)
# file_handler.py (æ–‡ä»¶å¤„ç†)
# æ¯ä¸ªæ–‡ä»¶ä¸“æ³¨äºä¸€ä¸ªåŠŸèƒ½ï¼Œæ˜“äºç»´æŠ¤å’Œæµ‹è¯•
```

---

## 6.2 å¯¼å…¥æ¨¡å—

### 6.2.1 import è¯­å¥
æœ€åŸºæœ¬çš„å¯¼å…¥æ–¹å¼ï¼Œå¯¼å…¥æ•´ä¸ªæ¨¡å—ã€‚

```python
# å¯¼å…¥æ•´ä¸ªæ¨¡å—
import math

# ä½¿ç”¨æ¨¡å—ä¸­çš„å‡½æ•°å’Œå˜é‡
print(f"Ï€çš„å€¼: {math.pi}")
print(f"å¹³æ–¹æ ¹: {math.sqrt(16)}")
print(f"æ­£å¼¦å€¼: {math.sin(math.pi/2)}")

# å¯¼å…¥å¤šä¸ªæ¨¡å—
import random
import datetime

# ä½¿ç”¨å¯¼å…¥çš„æ¨¡å—
random_number = random.randint(1, 100)
print(f"éšæœºæ•°: {random_number}")

current_time = datetime.datetime.now()
print(f"å½“å‰æ—¶é—´: {current_time}")

# å¯¼å…¥è‡ªå®šä¹‰æ¨¡å—ï¼ˆéœ€è¦æ¨¡å—åœ¨åŒä¸€ç›®å½•æˆ–Pythonè·¯å¾„ä¸­ï¼‰
# import my_module  # å‡è®¾æœ‰ my_module.py æ–‡ä»¶
```

### 6.2.2 from...import è¯­å¥
ä»æ¨¡å—ä¸­å¯¼å…¥ç‰¹å®šçš„å‡½æ•°ã€ç±»æˆ–å˜é‡ã€‚

```python
# ä»æ¨¡å—ä¸­å¯¼å…¥ç‰¹å®šçš„å‡½æ•°æˆ–å˜é‡
from math import pi, sqrt, sin

# ç›´æ¥ä½¿ç”¨ï¼Œä¸éœ€è¦æ¨¡å—åå‰ç¼€
print(f"Ï€çš„å€¼: {pi}")
print(f"å¹³æ–¹æ ¹: {sqrt(25)}")
print(f"æ­£å¼¦å€¼: {sin(pi/2)}")

# å¯¼å…¥å¤šä¸ªé¡¹ç›®
from random import randint, choice, shuffle

numbers = [1, 2, 3, 4, 5]
print(f"éšæœºæ•´æ•°: {randint(1, 10)}")
print(f"éšæœºé€‰æ‹©: {choice(numbers)}")

shuffle(numbers)
print(f"æ‰“ä¹±åçš„åˆ—è¡¨: {numbers}")

# å¯¼å…¥æ‰€æœ‰é¡¹ç›®ï¼ˆä¸æ¨èï¼Œå®¹æ˜“å¼•èµ·å‘½åå†²çªï¼‰
# from math import *  # å¯¼å…¥mathæ¨¡å—ä¸­çš„æ‰€æœ‰å†…å®¹
```

### 6.2.3 å¯¼å…¥åˆ«å
ä¸ºæ¨¡å—æˆ–å¯¼å…¥çš„é¡¹ç›®æŒ‡å®šåˆ«åï¼Œé€šå¸¸ç”¨äºï¼š
1. ç®€åŒ–é•¿æ¨¡å—å
2. é¿å…å‘½åå†²çª

```python
# ä¸ºæ¨¡å—æŒ‡å®šåˆ«å
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt

# ä½¿ç”¨åˆ«å
# å‡è®¾numpyå·²å®‰è£…
# arr = np.array([1, 2, 3, 4, 5])

# ä¸ºå¯¼å…¥çš„é¡¹ç›®æŒ‡å®šåˆ«å
from math import sqrt as square_root
from datetime import datetime as dt

print(f"å¹³æ–¹æ ¹: {square_root(9)}")
print(f"å½“å‰æ—¶é—´: {dt.now()}")

# å®é™…åº”ç”¨ï¼šè§£å†³å‘½åå†²çª
def sqrt(x):
    """è‡ªå®šä¹‰å¹³æ–¹æ ¹å‡½æ•°ï¼ˆä¸math.sqrtå†²çªï¼‰"""
    return x ** 0.5

# ä¸ä½¿ç”¨åˆ«åä¼šå¯¼è‡´å†²çª
# from math import sqrt  # è¿™ä¼šè¦†ç›–ä¸Šé¢çš„sqrtå‡½æ•°

# ä½¿ç”¨åˆ«åé¿å…å†²çª
from math import sqrt as math_sqrt

print(f"è‡ªå®šä¹‰sqrt(9): {sqrt(9)}")          # ä½¿ç”¨è‡ªå®šä¹‰å‡½æ•°
print(f"math.sqrt(9): {math_sqrt(9)}")      # ä½¿ç”¨mathæ¨¡å—çš„å‡½æ•°
```

### 6.2.4 å¯¼å…¥æ¨¡å—ä¸­çš„æ‰€æœ‰å†…å®¹
ä½¿ç”¨ `from module import *` è¯­æ³•ï¼Œä½†é€šå¸¸ä¸æ¨èã€‚

```python
# ä¸æ¨èçš„åšæ³•ï¼šå¯¼å…¥æ‰€æœ‰å†…å®¹
from math import *

# å¯ä»¥ç›´æ¥ä½¿ç”¨æ‰€æœ‰å‡½æ•°å’Œå˜é‡
print(f"Ï€: {pi}")
print(f"e: {e}")
print(f"sin(Ï€/2): {sin(pi/2)}")

# é—®é¢˜ï¼šå‘½åå†²çª
def sin(x):
    """è‡ªå®šä¹‰sinå‡½æ•°"""
    return "æˆ‘çš„sinå‡½æ•°"

print(f"sinå‡½æ•°: {sin(pi/2)}")  # è°ƒç”¨çš„æ˜¯è‡ªå®šä¹‰å‡½æ•°ï¼Œä¸æ˜¯math.sin

# æ›´å®‰å…¨çš„æ–¹æ³•ï¼šå¯¼å…¥ç‰¹å®šå†…å®¹æˆ–ä½¿ç”¨åˆ«å
from math import pi, e, sin as math_sin

print(f"Ï€: {pi}")
print(f"math.sin: {math_sin(pi/2)}")
print(f"æˆ‘çš„sin: {sin(pi/2)}")
```

### å¯¼å…¥è·¯å¾„æœç´¢é¡ºåº
Python åœ¨å¯¼å…¥æ¨¡å—æ—¶ï¼Œä¼šæŒ‰ç…§ä»¥ä¸‹é¡ºåºæœç´¢ï¼š
1. å½“å‰ç›®å½•
2. PYTHONPATH ç¯å¢ƒå˜é‡æŒ‡å®šçš„ç›®å½•
3. Python å®‰è£…çš„æ ‡å‡†åº“ç›®å½•
4. ç¬¬ä¸‰æ–¹åº“ç›®å½•ï¼ˆsite-packagesï¼‰

```python
import sys

# æŸ¥çœ‹Pythonçš„æ¨¡å—æœç´¢è·¯å¾„
print("Pythonæ¨¡å—æœç´¢è·¯å¾„:")
for path in sys.path:
    print(f"  {path}")

# æ·»åŠ è‡ªå®šä¹‰è·¯å¾„åˆ°æœç´¢è·¯å¾„
import os
custom_path = "/path/to/my/modules"
if custom_path not in sys.path:
    sys.path.append(custom_path)
    print(f"\nå·²æ·»åŠ è·¯å¾„: {custom_path}")

# æŸ¥çœ‹å·²å¯¼å…¥çš„æ¨¡å—
print(f"\nå·²å¯¼å…¥çš„æ¨¡å—æ•°é‡: {len(sys.modules)}")
print("å‰5ä¸ªæ¨¡å—:")
for i, module_name in enumerate(list(sys.modules.keys())[:5]):
    print(f"  {i+1}. {module_name}")
```

---

## 6.3 æ ‡å‡†åº“å¸¸ç”¨æ¨¡å—

Python æ ‡å‡†åº“æä¾›äº†ä¸°å¯Œçš„æ¨¡å—ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨æ¨¡å—çš„ä»‹ç»ã€‚

### 6.3.1 math - æ•°å­¦è¿ç®—
```python
import math

print("mathæ¨¡å—å¸¸ç”¨åŠŸèƒ½:")
print("=" * 40)

# å¸¸é‡
print(f"Ï€: {math.pi}")
print(f"è‡ªç„¶å¸¸æ•°e: {math.e}")
print(f"æ— ç©·å¤§: {math.inf}")
print(f"éæ•°å­—: {math.nan}")

# åŸºæœ¬æ•°å­¦å‡½æ•°
print(f"\nå¹³æ–¹æ ¹ âˆš16: {math.sqrt(16)}")
print(f"ç»å¯¹å€¼ |-5|: {math.fabs(-5)}")
print(f"é˜¶ä¹˜ 5!: {math.factorial(5)}")

# å¹‚å’Œå¯¹æ•°
print(f"\n2çš„3æ¬¡æ–¹: {math.pow(2, 3)}")
print(f"eçš„2æ¬¡æ–¹: {math.exp(2)}")
print(f"ä»¥eä¸ºåº•çš„å¯¹æ•° ln(10): {math.log(10)}")
print(f"ä»¥2ä¸ºåº•çš„å¯¹æ•° logâ‚‚(8): {math.log2(8)}")
print(f"ä»¥10ä¸ºåº•çš„å¯¹æ•° logâ‚â‚€(100): {math.log10(100)}")

# ä¸‰è§’å‡½æ•°ï¼ˆå‚æ•°ä¸ºå¼§åº¦ï¼‰
print(f"\nsin(Ï€/2): {math.sin(math.pi/2)}")
print(f"cos(Ï€): {math.cos(math.pi)}")
print(f"tan(Ï€/4): {math.tan(math.pi/4)}")

# è§’åº¦å’Œå¼§åº¦è½¬æ¢
degrees = 90
radians = math.radians(degrees)
print(f"\n{degrees}Â° = {radians:.4f} å¼§åº¦")
print(f"{radians:.4f} å¼§åº¦ = {math.degrees(radians):.2f}Â°")

# å…¶ä»–æœ‰ç”¨å‡½æ•°
print(f"\nå‘ä¸Šå–æ•´ ceil(3.2): {math.ceil(3.2)}")
print(f"å‘ä¸‹å–æ•´ floor(3.8): {math.floor(3.8)}")
print(f"å››èˆäº”å…¥ï¼ˆé“¶è¡Œå®¶èˆå…¥æ³•ï¼‰round(2.5): {round(2.5)}")
print(f"æˆªæ–­å°æ•° trunc(3.9): {math.trunc(3.9)}")

# åˆ¤æ–­å‡½æ•°
print(f"\næ˜¯å¦æ˜¯æ— ç©·å¤§ isinf(10): {math.isinf(10)}")
print(f"æ˜¯å¦æ˜¯æ•°å­— isnan(10): {math.isnan(10)}")
```

### 6.3.2 random - éšæœºæ•°
```python
import random

print("randomæ¨¡å—å¸¸ç”¨åŠŸèƒ½:")
print("=" * 40)

# è®¾ç½®éšæœºç§å­ï¼ˆä½¿éšæœºç»“æœå¯é‡ç°ï¼‰
random.seed(42)  # è®¾ç½®ç§å­åï¼Œæ¯æ¬¡è¿è¡Œç»“æœç›¸åŒ

# éšæœºæ•´æ•°
print(f"éšæœºæ•´æ•° [1, 10]: {random.randint(1, 10)}")
print(f"éšæœºæ•´æ•°èŒƒå›´ [0, 100): {random.randrange(0, 100, 5)}")  # æ­¥é•¿ä¸º5

# éšæœºæµ®ç‚¹æ•°
print(f"\néšæœºæµ®ç‚¹æ•° [0.0, 1.0): {random.random()}")
print(f"éšæœºæµ®ç‚¹æ•° [1.5, 2.5]: {random.uniform(1.5, 2.5):.2f}")

# åºåˆ—æ“ä½œ
items = ['è‹¹æœ', 'é¦™è•‰', 'æ©™å­', 'è‘¡è„', 'è¥¿ç“œ']
print(f"\nåŸå§‹åˆ—è¡¨: {items}")

print(f"éšæœºé€‰æ‹©ä¸€ä¸ª: {random.choice(items)}")
print(f"éšæœºé€‰æ‹©3ä¸ªï¼ˆå¯é‡å¤ï¼‰: {random.choices(items, k=3)}")
print(f"éšæœºé€‰æ‹©3ä¸ªï¼ˆä¸é‡å¤ï¼‰: {random.sample(items, k=3)}")

# æ‰“ä¹±åºåˆ—
random.shuffle(items)
print(f"æ‰“ä¹±åçš„åˆ—è¡¨: {items}")

# é‡ç½®ä¸ºåŸå§‹é¡ºåº
items = ['è‹¹æœ', 'é¦™è•‰', 'æ©™å­', 'è‘¡è„', 'è¥¿ç“œ']

# æ¦‚ç‡åˆ†å¸ƒ
print(f"\né«˜æ–¯åˆ†å¸ƒéšæœºæ•°: {random.gauss(100, 15):.2f}")  # å‡å€¼100ï¼Œæ ‡å‡†å·®15

# å®é™…åº”ç”¨ï¼šæŠ½å¥–ç³»ç»Ÿ
def lottery_draw(participants, winners_count):
    """æŠ½å¥–å‡½æ•°"""
    if winners_count > len(participants):
        print("é”™è¯¯ï¼šè·å¥–äººæ•°ä¸èƒ½è¶…è¿‡å‚ä¸äººæ•°")
        return []
    
    winners = random.sample(participants, winners_count)
    return winners

# æµ‹è¯•æŠ½å¥–
participants = ['å¼ ä¸‰', 'æå››', 'ç‹äº”', 'èµµå…­', 'é’±ä¸ƒ', 'å­™å…«']
print(f"\næŠ½å¥–å‚ä¸è€…: {participants}")
print(f"ä¸­å¥–è€…ï¼ˆ3äººï¼‰: {lottery_draw(participants, 3)}")

# é‡ç½®ç§å­ä¸ºç³»ç»Ÿæ—¶é—´ï¼ˆçœŸæ­£çš„éšæœºï¼‰
random.seed()  # ä½¿ç”¨ç³»ç»Ÿæ—¶é—´ä½œä¸ºç§å­
print(f"\nçœŸæ­£çš„éšæœºæ•°: {random.randint(1, 100)}")
```

### 6.3.3 datetime - æ—¥æœŸæ—¶é—´
```python
import datetime

print("datetimeæ¨¡å—å¸¸ç”¨åŠŸèƒ½:")
print("=" * 40)

# è·å–å½“å‰æ—¥æœŸå’Œæ—¶é—´
now = datetime.datetime.now()
print(f"å½“å‰æ—¥æœŸæ—¶é—´: {now}")
print(f"å¹´ä»½: {now.year}")
print(f"æœˆä»½: {now.month}")
print(f"æ—¥æœŸ: {now.day}")
print(f"å°æ—¶: {now.hour}")
print(f"åˆ†é’Ÿ: {now.minute}")
print(f"ç§’: {now.second}")
print(f"å¾®ç§’: {now.microsecond}")
print(f"æ˜ŸæœŸå‡  (0=å‘¨ä¸€): {now.weekday()}")
print(f"æ˜ŸæœŸå‡  (1=å‘¨ä¸€): {now.isoweekday()}")

# åˆ›å»ºç‰¹å®šæ—¥æœŸæ—¶é—´
specific_date = datetime.datetime(2024, 5, 20, 14, 30, 0)
print(f"\nç‰¹å®šæ—¥æœŸæ—¶é—´: {specific_date}")

# æ—¥æœŸè¿ç®—
print(f"\næ—¥æœŸè¿ç®—:")
tomorrow = now + datetime.timedelta(days=1)
print(f"æ˜å¤©: {tomorrow.date()}")

next_week = now + datetime.timedelta(weeks=1)
print(f"ä¸‹å‘¨: {next_week.date()}")

two_hours_later = now + datetime.timedelta(hours=2)
print(f"ä¸¤å°æ—¶å: {two_hours_later.time()}")

# æ—¥æœŸå·®
new_year = datetime.datetime(2025, 1, 1)
time_until_new_year = new_year - now
print(f"\nè·ç¦»2025å¹´å…ƒæ—¦è¿˜æœ‰: {time_until_new_year.days} å¤©")

# æ—¥æœŸæ ¼å¼åŒ–
print(f"\næ—¥æœŸæ ¼å¼åŒ–:")
print(f"é»˜è®¤æ ¼å¼: {now}")
print(f"ISOæ ¼å¼: {now.isoformat()}")
print(f"è‡ªå®šä¹‰æ ¼å¼: {now.strftime('%Yå¹´%mæœˆ%dæ—¥ %H:%M:%S')}")
print(f"åªæ˜¾ç¤ºæ—¥æœŸ: {now.strftime('%Y-%m-%d')}")
print(f"åªæ˜¾ç¤ºæ—¶é—´: {now.strftime('%H:%M:%S')}")

# æ—¥æœŸè§£æ
date_str = "2024-05-20 14:30:00"
parsed_date = datetime.datetime.strptime(date_str, '%Y-%m-%d %H:%M:%S')
print(f"\nè§£ææ—¥æœŸå­—ç¬¦ä¸² '{date_str}': {parsed_date}")

# æ—¥æœŸéƒ¨åˆ†
today = datetime.date.today()
print(f"\nä»Šå¤©çš„æ—¥æœŸ: {today}")

current_time = datetime.datetime.now().time()
print(f"å½“å‰æ—¶é—´: {current_time}")

# æ—¶é—´æˆ³
timestamp = now.timestamp()
print(f"\næ—¶é—´æˆ³: {timestamp}")
print(f"ä»æ—¶é—´æˆ³è¿˜åŸ: {datetime.datetime.fromtimestamp(timestamp)}")

# å®é™…åº”ç”¨ï¼šè®¡ç®—å¹´é¾„
def calculate_age(birth_date):
    """è®¡ç®—å¹´é¾„"""
    today = datetime.date.today()
    
    # ç®€å•è®¡ç®—ï¼ˆä¸è€ƒè™‘ç”Ÿæ—¥æ˜¯å¦å·²è¿‡ï¼‰
    age = today.year - birth_date.year
    
    # è°ƒæ•´ï¼šå¦‚æœä»Šå¹´ç”Ÿæ—¥è¿˜æ²¡è¿‡ï¼Œå¹´é¾„å‡1
    if (today.month, today.day) < (birth_date.month, birth_date.day):
        age -= 1
    
    return age

# æµ‹è¯•å¹´é¾„è®¡ç®—
birthday = datetime.date(2000, 5, 20)
print(f"\nç”Ÿæ—¥: {birthday}")
print(f"å¹´é¾„: {calculate_age(birthday)} å²")
```

### 6.3.4 os - æ“ä½œç³»ç»Ÿæ¥å£
```python
import os

print("osæ¨¡å—å¸¸ç”¨åŠŸèƒ½:")
print("=" * 40)

# æ“ä½œç³»ç»Ÿä¿¡æ¯
print(f"æ“ä½œç³»ç»Ÿåç§°: {os.name}")  # 'posix', 'nt', 'java'
print(f"å½“å‰å·¥ä½œç›®å½•: {os.getcwd()}")
print(f"ç”¨æˆ·ä¸»ç›®å½•: {os.path.expanduser('~')}")
print(f"ç¯å¢ƒå˜é‡PATH: {os.environ.get('PATH', 'æœªæ‰¾åˆ°')[:100]}...")  # æ˜¾ç¤ºå‰100ä¸ªå­—ç¬¦

# æ–‡ä»¶å’Œç›®å½•æ“ä½œ
print(f"\n--- æ–‡ä»¶å’Œç›®å½•æ“ä½œ ---")

# åˆ—å‡ºç›®å½•å†…å®¹
current_dir = os.getcwd()
print(f"å½“å‰ç›®å½•å†…å®¹:")
try:
    for item in os.listdir(current_dir):
        print(f"  {item}")
except Exception as e:
    print(f"  æ— æ³•åˆ—å‡ºç›®å½•: {e}")

# åˆ›å»ºç›®å½•
test_dir = "test_directory"
if not os.path.exists(test_dir):
    os.mkdir(test_dir)
    print(f"å·²åˆ›å»ºç›®å½•: {test_dir}")

# åˆ›å»ºå¤šçº§ç›®å½•
nested_dir = "a/b/c"
if not os.path.exists(nested_dir):
    os.makedirs(nested_dir)
    print(f"å·²åˆ›å»ºå¤šçº§ç›®å½•: {nested_dir}")

# æ–‡ä»¶è·¯å¾„æ“ä½œ
print(f"\n--- æ–‡ä»¶è·¯å¾„æ“ä½œ ---")
file_path = "test_directory/example.txt"

# æ‹†åˆ†è·¯å¾„
print(f"è·¯å¾„: {file_path}")
print(f"ç›®å½•éƒ¨åˆ†: {os.path.dirname(file_path)}")
print(f"æ–‡ä»¶åéƒ¨åˆ†: {os.path.basename(file_path)}")
print(f"æ‹†åˆ†æ‰©å±•å: {os.path.splitext(file_path)}")

# è·¯å¾„è¿æ¥
dir_name = "test_directory"
file_name = "example.txt"
full_path = os.path.join(dir_name, file_name)
print(f"è¿æ¥åçš„è·¯å¾„: {full_path}")

# æ–‡ä»¶ä¿¡æ¯
print(f"\n--- æ–‡ä»¶ä¿¡æ¯ ---")
if os.path.exists(__file__):  # æ£€æŸ¥å½“å‰æ–‡ä»¶æ˜¯å¦å­˜åœ¨
    print(f"å½“å‰æ–‡ä»¶: {__file__}")
    print(f"æ–‡ä»¶å¤§å°: {os.path.getsize(__file__)} å­—èŠ‚")
    print(f"æœ€åä¿®æ”¹æ—¶é—´: {os.path.getmtime(__file__)}")
    print(f"æœ€åè®¿é—®æ—¶é—´: {os.path.getatime(__file__)}")
    print(f"åˆ›å»ºæ—¶é—´: {os.path.getctime(__file__)}")
    
    # è½¬æ¢ä¸ºå¯è¯»æ—¶é—´
    import time
    mtime = os.path.getmtime(__file__)
    print(f"æœ€åä¿®æ”¹æ—¶é—´ï¼ˆå¯è¯»ï¼‰: {time.ctime(mtime)}")

# æ–‡ä»¶æ“ä½œ
print(f"\n--- æ–‡ä»¶æ“ä½œ ---")
# åˆ›å»ºæµ‹è¯•æ–‡ä»¶
test_file = "test.txt"
with open(test_file, "w") as f:
    f.write("è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•æ–‡ä»¶\n")
    f.write("ç¬¬äºŒè¡Œå†…å®¹\n")

print(f"å·²åˆ›å»ºæ–‡ä»¶: {test_file}")

# é‡å‘½åæ–‡ä»¶
new_name = "renamed_test.txt"
if os.path.exists(test_file):
    os.rename(test_file, new_name)
    print(f"å·²é‡å‘½åä¸º: {new_name}")

# åˆ é™¤æ–‡ä»¶
if os.path.exists(new_name):
    os.remove(new_name)
    print(f"å·²åˆ é™¤æ–‡ä»¶: {new_name}")

# åˆ é™¤ç›®å½•ï¼ˆå¿…é¡»ä¸ºç©ºï¼‰
if os.path.exists(test_dir):
    # å…ˆåˆ é™¤å­ç›®å½•
    os.rmdir("a/b/c")
    os.rmdir("a/b")
    os.rmdir("a")
    
    # åˆ é™¤ä¸»ç›®å½•
    os.rmdir(test_dir)
    print(f"å·²åˆ é™¤ç›®å½•: {test_dir}")

# è¿è¡Œç³»ç»Ÿå‘½ä»¤
print(f"\n--- ç³»ç»Ÿå‘½ä»¤ ---")
# æ³¨æ„ï¼šæœ‰äº›å‘½ä»¤å¯èƒ½åœ¨ä¸åŒç³»ç»Ÿä¸Šè¡¨ç°ä¸åŒ
print("ç³»ç»Ÿå‘½ä»¤ç¤ºä¾‹ï¼ˆåªæ˜¾ç¤ºå‰5è¡Œï¼‰:")

try:
    # åœ¨Windowsä¸Šä½¿ç”¨dirï¼Œåœ¨Unixä¸Šä½¿ç”¨ls
    if os.name == 'nt':  # Windows
        result = os.system("dir | head -5")
    else:  # Unix/Linux/Mac
        result = os.system("ls -la | head -5")
    
    # æ›´å¥½çš„æ–¹æ³•ï¼šä½¿ç”¨subprocessæ¨¡å—
    import subprocess
    if os.name == 'nt':
        output = subprocess.check_output("dir", shell=True, text=True)
    else:
        output = subprocess.check_output("ls -la", shell=True, text=True)
    
    print("å‰5è¡Œè¾“å‡º:")
    for i, line in enumerate(output.split('\n')[:5]):
        print(f"  {line}")
except Exception as e:
    print(f"  æ‰§è¡Œå‘½ä»¤æ—¶å‡ºé”™: {e}")
```

### 6.3.5 sys - ç³»ç»Ÿç›¸å…³
```python
import sys

print("sysæ¨¡å—å¸¸ç”¨åŠŸèƒ½:")
print("=" * 40)

# Pythonè§£é‡Šå™¨ä¿¡æ¯
print(f"Pythonç‰ˆæœ¬: {sys.version}")
print(f"Pythonç‰ˆæœ¬ä¿¡æ¯: {sys.version_info}")
print(f"å¹³å°: {sys.platform}")
print(f"å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„: {sys.executable}")

# å‘½ä»¤è¡Œå‚æ•°
print(f"\nå‘½ä»¤è¡Œå‚æ•°: {sys.argv}")
print(f"å‚æ•°æ•°é‡: {len(sys.argv)}")

# æ¨¡æ‹Ÿæœ‰å‘½ä»¤è¡Œå‚æ•°çš„æƒ…å†µ
if len(sys.argv) == 1:
    print("æç¤ºï¼šè¿è¡Œæ—¶å¯æ·»åŠ å‚æ•°ï¼Œå¦‚: python script.py arg1 arg2")

# æ¨¡å—æœç´¢è·¯å¾„
print(f"\næ¨¡å—æœç´¢è·¯å¾„ (å…±{len(sys.path)}ä¸ª):")
for i, path in enumerate(sys.path[:5]):  # åªæ˜¾ç¤ºå‰5ä¸ª
    print(f"  [{i}] {path}")
if len(sys.path) > 5:
    print(f"  ... è¿˜æœ‰ {len(sys.path)-5} ä¸ªè·¯å¾„")

# æ·»åŠ è‡ªå®šä¹‰è·¯å¾„
custom_path = "/custom/module/path"
if custom_path not in sys.path:
    sys.path.append(custom_path)
    print(f"\nå·²æ·»åŠ è·¯å¾„: {custom_path}")

# æ ‡å‡†è¾“å…¥è¾“å‡º
print(f"\næ ‡å‡†è¾“å…¥: {sys.stdin}")
print(f"æ ‡å‡†è¾“å‡º: {sys.stdout}")
print(f"æ ‡å‡†é”™è¯¯: {sys.stderr}")

# å†™å…¥æ ‡å‡†é”™è¯¯
sys.stderr.write("è¿™æ˜¯ä¸€æ¡é”™è¯¯æ¶ˆæ¯ï¼ˆstderrï¼‰\n")

# é€€å‡ºç¨‹åº
print("\nç¨‹åºå°†æ­£å¸¸é€€å‡º")
# sys.exit(0)  # æ­£å¸¸é€€å‡º
# sys.exit(1)  # å¼‚å¸¸é€€å‡º

# é€’å½’æ·±åº¦
print(f"é»˜è®¤é€’å½’æ·±åº¦é™åˆ¶: {sys.getrecursionlimit()}")

# è®¾ç½®é€’å½’æ·±åº¦
sys.setrecursionlimit(2000)
print(f"è®¾ç½®åçš„é€’å½’æ·±åº¦é™åˆ¶: {sys.getrecursionlimit()}")

# å†…å­˜ç®¡ç†
print(f"\nå¼•ç”¨è®¡æ•°ä¿¡æ¯:")
print(f"  åƒåœ¾æ”¶é›†å™¨é˜ˆå€¼: {sys.getallocatedblocks()}")

# å®é™…åº”ç”¨ï¼šä¼˜é›…é€€å‡º
def cleanup():
    """æ¸…ç†å‡½æ•°"""
    print("æ‰§è¡Œæ¸…ç†æ“ä½œ...")
    # å…³é—­æ–‡ä»¶ã€é‡Šæ”¾èµ„æºç­‰

# æ³¨å†Œæ¸…ç†å‡½æ•°
import atexit
atexit.register(cleanup)

print("ç¨‹åºè¿è¡Œä¸­...")
print("é€€å‡ºæ—¶ä¼šè‡ªåŠ¨è°ƒç”¨cleanup()å‡½æ•°")
```

### 6.3.6 json - JSONæ•°æ®å¤„ç†
```python
import json

print("jsonæ¨¡å—å¸¸ç”¨åŠŸèƒ½:")
print("=" * 40)

# Pythonå¯¹è±¡
python_data = {
    "name": "å¼ ä¸‰",
    "age": 25,
    "is_student": False,
    "courses": ["æ•°å­¦", "è‹±è¯­", "ç¼–ç¨‹"],
    "address": {
        "city": "åŒ—äº¬",
        "district": "æµ·æ·€åŒº"
    },
    "grades": {
        "æ•°å­¦": 95,
        "è‹±è¯­": 88,
        "ç¼–ç¨‹": 92
    }
}

print("PythonåŸå§‹æ•°æ®:")
print(python_data)

# è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²
json_string = json.dumps(python_data, ensure_ascii=False, indent=2)
print(f"\nè½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²:")
print(json_string)

# ç´§å‡‘æ ¼å¼ï¼ˆæ— ç¼©è¿›ï¼‰
compact_json = json.dumps(python_data, ensure_ascii=False, separators=(',', ':'))
print(f"\nç´§å‡‘JSONæ ¼å¼:")
print(compact_json)

# ä»JSONå­—ç¬¦ä¸²è½¬æ¢å›Pythonå¯¹è±¡
parsed_data = json.loads(json_string)
print(f"\nä»JSONè§£æå›çš„Pythonå¯¹è±¡:")
print(parsed_data)

# éªŒè¯æ•°æ®ä¸€è‡´
print(f"\næ•°æ®æ˜¯å¦ä¸€è‡´: {python_data == parsed_data}")

# æ–‡ä»¶æ“ä½œ
print(f"\n--- JSONæ–‡ä»¶æ“ä½œ ---")

# å†™å…¥JSONæ–‡ä»¶
filename = "data.json"
with open(filename, "w", encoding="utf-8") as f:
    json.dump(python_data, f, ensure_ascii=False, indent=2)
print(f"å·²å†™å…¥æ–‡ä»¶: {filename}")

# è¯»å–JSONæ–‡ä»¶
with open(filename, "r", encoding="utf-8") as f:
    file_data = json.load(f)
print(f"ä»æ–‡ä»¶è¯»å–çš„æ•°æ®:")
print(file_data)

# å¤„ç†å¤æ‚æ•°æ®ç±»å‹
print(f"\n--- å¤„ç†å¤æ‚æ•°æ®ç±»å‹ ---")

# è‡ªå®šä¹‰å¯¹è±¡çš„JSONåºåˆ—åŒ–
class Student:
    def __init__(self, name, age, courses):
        self.name = name
        self.age = age
        self.courses = courses
    
    def to_dict(self):
        """è½¬æ¢ä¸ºå­—å…¸"""
        return {
            "name": self.name,
            "age": self.age,
            "courses": self.courses,
            "type": "Student"  # æ·»åŠ ç±»å‹æ ‡è¯†
        }

# åˆ›å»ºå­¦ç”Ÿå¯¹è±¡
student = Student("æå››", 22, ["ç‰©ç†", "åŒ–å­¦"])

# è‡ªå®šä¹‰ç¼–ç å™¨
class CustomEncoder(json.JSONEncoder):
    def default(self, obj):
        if isinstance(obj, Student):
            return obj.to_dict()
        # è®©åŸºç±»å¤„ç†å…¶ä»–ç±»å‹
        return super().default(obj)

# åºåˆ—åŒ–è‡ªå®šä¹‰å¯¹è±¡
student_json = json.dumps(student, cls=CustomEncoder, ensure_ascii=False, indent=2)
print(f"è‡ªå®šä¹‰å¯¹è±¡åºåˆ—åŒ–ä¸ºJSON:")
print(student_json)

# è‡ªå®šä¹‰è§£ç å™¨
def custom_decoder(dct):
    """è‡ªå®šä¹‰JSONè§£ç å™¨"""
    if dct.get("type") == "Student":
        return Student(dct["name"], dct["age"], dct["courses"])
    return dct

# ååºåˆ—åŒ–
decoded_student = json.loads(student_json, object_hook=custom_decoder)
print(f"\nååºåˆ—åŒ–åçš„å¯¹è±¡:")
print(f"  ç±»å‹: {type(decoded_student)}")
print(f"  å§“å: {decoded_student.name}")
print(f"  å¹´é¾„: {decoded_student.age}")

# æ¸…ç†ï¼šåˆ é™¤æµ‹è¯•æ–‡ä»¶
import os
if os.path.exists(filename):
    os.remove(filename)
    print(f"\nå·²åˆ é™¤æµ‹è¯•æ–‡ä»¶: {filename}")
```

---

## 6.4 åˆ›å»ºè‡ªå®šä¹‰æ¨¡å—

### åˆ›å»ºç®€å•çš„æ¨¡å—
```python
# geometry.py - å‡ ä½•è®¡ç®—æ¨¡å—
"""
geometry.py
å‡ ä½•è®¡ç®—æ¨¡å—ï¼Œæä¾›å„ç§å‡ ä½•å›¾å½¢çš„é¢ç§¯å’Œå‘¨é•¿è®¡ç®—ã€‚
"""

import math

# å¸¸é‡
PI = math.pi

def circle_area(radius):
    """è®¡ç®—åœ†çš„é¢ç§¯"""
    if radius < 0:
        raise ValueError("åŠå¾„ä¸èƒ½ä¸ºè´Ÿæ•°")
    return PI * radius ** 2

def circle_perimeter(radius):
    """è®¡ç®—åœ†çš„å‘¨é•¿"""
    if radius < 0:
        raise ValueError("åŠå¾„ä¸èƒ½ä¸ºè´Ÿæ•°")
    return 2 * PI * radius

def rectangle_area(length, width):
    """è®¡ç®—çŸ©å½¢çš„é¢ç§¯"""
    if length < 0 or width < 0:
        raise ValueError("é•¿åº¦å’Œå®½åº¦ä¸èƒ½ä¸ºè´Ÿæ•°")
    return length * width

def rectangle_perimeter(length, width):
    """è®¡ç®—çŸ©å½¢çš„å‘¨é•¿"""
    if length < 0 or width < 0:
        raise ValueError("é•¿åº¦å’Œå®½åº¦ä¸èƒ½ä¸ºè´Ÿæ•°")
    return 2 * (length + width)

def triangle_area(base, height):
    """è®¡ç®—ä¸‰è§’å½¢çš„é¢ç§¯"""
    if base < 0 or height < 0:
        raise ValueError("åº•å’Œé«˜ä¸èƒ½ä¸ºè´Ÿæ•°")
    return 0.5 * base * height

def triangle_perimeter(side1, side2, side3):
    """è®¡ç®—ä¸‰è§’å½¢çš„å‘¨é•¿"""
    if side1 < 0 or side2 < 0 or side3 < 0:
        raise ValueError("è¾¹é•¿ä¸èƒ½ä¸ºè´Ÿæ•°")
    return side1 + side2 + side3

# æµ‹è¯•ä»£ç ï¼ˆå½“æ¨¡å—ç›´æ¥è¿è¡Œæ—¶æ‰§è¡Œï¼‰
if __name__ == "__main__":
    # æ¨¡å—æµ‹è¯•
    print("å‡ ä½•æ¨¡å—æµ‹è¯•:")
    print(f"åŠå¾„ä¸º5çš„åœ†é¢ç§¯: {circle_area(5):.2f}")
    print(f"åŠå¾„ä¸º5çš„åœ†å‘¨é•¿: {circle_perimeter(5):.2f}")
    print(f"é•¿5å®½3çš„çŸ©å½¢é¢ç§¯: {rectangle_area(5, 3)}")
    print(f"é•¿5å®½3çš„çŸ©å½¢å‘¨é•¿: {rectangle_perimeter(5, 3)}")
    print(f"åº•6é«˜4çš„ä¸‰è§’å½¢é¢ç§¯: {triangle_area(6, 4)}")
    print(f"è¾¹é•¿3,4,5çš„ä¸‰è§’å½¢å‘¨é•¿: {triangle_perimeter(3, 4, 5)}")
    
    # æµ‹è¯•é”™è¯¯å¤„ç†
    try:
        circle_area(-1)
    except ValueError as e:
        print(f"é”™è¯¯æµ‹è¯•: {e}")
```

### ä½¿ç”¨è‡ªå®šä¹‰æ¨¡å—
```python
# main.py - ä½¿ç”¨å‡ ä½•æ¨¡å—çš„ä¸»ç¨‹åº
"""
main.py
ä½¿ç”¨geometryæ¨¡å—è¿›è¡Œå‡ ä½•è®¡ç®—ã€‚
"""

# å¯¼å…¥è‡ªå®šä¹‰æ¨¡å—
import geometry

def main():
    """ä¸»å‡½æ•°"""
    print("å‡ ä½•è®¡ç®—å™¨")
    print("=" * 40)
    
    while True:
        print("\nè¯·é€‰æ‹©è¦è®¡ç®—çš„å›¾å½¢:")
        print("1. åœ†")
        print("2. çŸ©å½¢")
        print("3. ä¸‰è§’å½¢")
        print("4. é€€å‡º")
        
        choice = input("è¯·è¾“å…¥é€‰é¡¹ (1-4): ").strip()
        
        if choice == "1":
            calculate_circle()
        elif choice == "2":
            calculate_rectangle()
        elif choice == "3":
            calculate_triangle()
        elif choice == "4":
            print("æ„Ÿè°¢ä½¿ç”¨ï¼Œå†è§ï¼")
            break
        else:
            print("æ— æ•ˆé€‰é¡¹ï¼Œè¯·é‡è¯•")

def calculate_circle():
    """è®¡ç®—åœ†çš„é¢ç§¯å’Œå‘¨é•¿"""
    try:
        radius = float(input("è¯·è¾“å…¥åœ†çš„åŠå¾„: "))
        
        area = geometry.circle_area(radius)
        perimeter = geometry.circle_perimeter(radius)
        
        print(f"\nåŠå¾„ä¸º {radius} çš„åœ†:")
        print(f"  é¢ç§¯: {area:.2f}")
        print(f"  å‘¨é•¿: {perimeter:.2f}")
    
    except ValueError as e:
        print(f"è¾“å…¥é”™è¯¯: {e}")
    except Exception as e:
        print(f"è®¡ç®—é”™è¯¯: {e}")

def calculate_rectangle():
    """è®¡ç®—çŸ©å½¢çš„é¢ç§¯å’Œå‘¨é•¿"""
    try:
        length = float(input("è¯·è¾“å…¥çŸ©å½¢çš„é•¿: "))
        width = float(input("è¯·è¾“å…¥çŸ©å½¢çš„å®½: "))
        
        area = geometry.rectangle_area(length, width)
        perimeter = geometry.rectangle_perimeter(length, width)
        
        print(f"\né•¿ {length}ã€å®½ {width} çš„çŸ©å½¢:")
        print(f"  é¢ç§¯: {area:.2f}")
        print(f"  å‘¨é•¿: {perimeter:.2f}")
    
    except ValueError as e:
        print(f"è¾“å…¥é”™è¯¯: {e}")
    except Exception as e:
        print(f"è®¡ç®—é”™è¯¯: {e}")

def calculate_triangle():
    """è®¡ç®—ä¸‰è§’å½¢çš„é¢ç§¯å’Œå‘¨é•¿"""
    print("\nè¯·é€‰æ‹©è®¡ç®—æ–¹å¼:")
    print("1. ä½¿ç”¨åº•å’Œé«˜è®¡ç®—é¢ç§¯")
    print("2. ä½¿ç”¨ä¸‰è¾¹è®¡ç®—å‘¨é•¿")
    
    sub_choice = input("è¯·è¾“å…¥é€‰é¡¹ (1-2): ").strip()
    
    if sub_choice == "1":
        try:
            base = float(input("è¯·è¾“å…¥ä¸‰è§’å½¢çš„åº•: "))
            height = float(input("è¯·è¾“å…¥ä¸‰è§’å½¢çš„é«˜: "))
            
            area = geometry.triangle_area(base, height)
            print(f"\nåº• {base}ã€é«˜ {height} çš„ä¸‰è§’å½¢:")
            print(f"  é¢ç§¯: {area:.2f}")
        
        except ValueError as e:
            print(f"è¾“å…¥é”™è¯¯: {e}")
    
    elif sub_choice == "2":
        try:
            side1 = float(input("è¯·è¾“å…¥ç¬¬ä¸€æ¡è¾¹é•¿: "))
            side2 = float(input("è¯·è¾“å…¥ç¬¬äºŒæ¡è¾¹é•¿: "))
            side3 = float(input("è¯·è¾“å…¥ç¬¬ä¸‰æ¡è¾¹é•¿: "))
            
            perimeter = geometry.triangle_perimeter(side1, side2, side3)
            print(f"\nè¾¹é•¿ {side1}, {side2}, {side3} çš„ä¸‰è§’å½¢:")
            print(f"  å‘¨é•¿: {perimeter:.2f}")
        
        except ValueError as e:
            print(f"è¾“å…¥é”™è¯¯: {e}")
    
    else:
        print("æ— æ•ˆé€‰é¡¹")

if __name__ == "__main__":
    main()
```

### æ¨¡å—çš„ `__name__` å±æ€§
```python
# ç†è§£ __name__ å±æ€§
# module_demo.py

def hello():
    print("Hello from module_demo!")

def main():
    print("è¿™æ˜¯module_demoçš„ä¸»å‡½æ•°")

# å½“æ¨¡å—ç›´æ¥è¿è¡Œæ—¶ï¼Œ__name__ çš„å€¼ä¸º "__main__"
# å½“æ¨¡å—è¢«å¯¼å…¥æ—¶ï¼Œ__name__ çš„å€¼ä¸ºæ¨¡å—å "module_demo"
if __name__ == "__main__":
    print("æ¨¡å—è¢«ç›´æ¥è¿è¡Œ")
    main()
else:
    print(f"æ¨¡å—è¢«å¯¼å…¥ï¼Œ__name__ = {__name__}")

# ä½¿ç”¨ç¤ºä¾‹ï¼š
# 1. ç›´æ¥è¿è¡Œ: python module_demo.py
#    è¾“å‡º: "æ¨¡å—è¢«ç›´æ¥è¿è¡Œ" å’Œ "è¿™æ˜¯module_demoçš„ä¸»å‡½æ•°"
# 2. åœ¨å…¶ä»–æ–‡ä»¶ä¸­å¯¼å…¥: import module_demo
#    è¾“å‡º: "æ¨¡å—è¢«å¯¼å…¥ï¼Œ__name__ = module_demo"
```

---

## 6.5 åŒ…çš„ç»“æ„å’Œç®¡ç†

### åˆ›å»ºåŒ…çš„åŸºæœ¬ç»“æ„
```
my_package/                    # åŒ…æ ¹ç›®å½•
â”œâ”€â”€ __init__.py               # åŒ…åˆå§‹åŒ–æ–‡ä»¶
â”œâ”€â”€ module1.py                # æ¨¡å—1
â”œâ”€â”€ module2.py                # æ¨¡å—2
â”œâ”€â”€ utils/                    # å­åŒ…
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ helper.py
â”‚   â””â”€â”€ validator.py
â””â”€â”€ data/                     # æ•°æ®å­åŒ…
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ loader.py
    â””â”€â”€ processor.py
```

### `__init__.py` æ–‡ä»¶çš„ä½œç”¨
```python
# my_package/__init__.py
"""
my_package - ä¸€ä¸ªç¤ºä¾‹åŒ…
æä¾›å„ç§å®ç”¨å·¥å…·å’Œæ•°æ®å¤„ç†åŠŸèƒ½ã€‚
"""

# ç‰ˆæœ¬ä¿¡æ¯
__version__ = "1.0.0"
__author__ = "ä½ çš„åå­—"
__email__ = "your.email@example.com"

# å¯¼å…¥åŒ…ä¸­çš„å…³é”®åŠŸèƒ½ï¼Œä½¿å®ƒä»¬å¯ä»¥ä»åŒ…çº§åˆ«ç›´æ¥è®¿é—®
from .module1 import function1, function2
from .module2 import Class1, Class2

# åŒ…çº§åˆ«çš„åˆå§‹åŒ–ä»£ç 
print(f"åˆå§‹åŒ– my_package ç‰ˆæœ¬ {__version__}")

# å®šä¹‰åŒ…çº§åˆ«çš„å˜é‡æˆ–å¸¸é‡
PACKAGE_NAME = "my_package"
DEFAULT_SETTING = {
    "debug": False,
    "timeout": 30,
    "max_retries": 3
}

# æ¸…ç†å‡½æ•°ï¼ˆå¯é€‰ï¼‰
def cleanup():
    """åŒ…æ¸…ç†å‡½æ•°"""
    print("æ¸…ç† my_package èµ„æº")

# å½“åŒ…è¢«å¯¼å…¥æ—¶è‡ªåŠ¨æ‰§è¡Œçš„ä»£ç 
print(f"{PACKAGE_NAME} åŒ…å·²å¯¼å…¥")
```

### æ¨¡å—1ç¤ºä¾‹
```python
# my_package/module1.py
"""
module1 - ç¬¬ä¸€ä¸ªæ¨¡å—
æä¾›åŸºæœ¬çš„æ•°å­¦è¿ç®—åŠŸèƒ½ã€‚
"""

def add(a, b):
    """åŠ æ³•"""
    return a + b

def subtract(a, b):
    """å‡æ³•"""
    return a - b

def multiply(a, b):
    """ä¹˜æ³•"""
    return a * b

def divide(a, b):
    """é™¤æ³•"""
    if b == 0:
        raise ValueError("é™¤æ•°ä¸èƒ½ä¸ºé›¶")
    return a / b

# æ¨¡å—çº§åˆ«çš„æµ‹è¯•
if __name__ == "__main__":
    print("æµ‹è¯• module1:")
    print(f"add(5, 3) = {add(5, 3)}")
    print(f"subtract(5, 3) = {subtract(5, 3)}")
    print(f"multiply(5, 3) = {multiply(5, 3)}")
    print(f"divide(5, 3) = {divide(5, 3):.2f}")
```

### æ¨¡å—2ç¤ºä¾‹
```python
# my_package/module2.py
"""
module2 - ç¬¬äºŒä¸ªæ¨¡å—
æä¾›å­—ç¬¦ä¸²å¤„ç†åŠŸèƒ½ã€‚
"""

def reverse_string(s):
    """åè½¬å­—ç¬¦ä¸²"""
    return s[::-1]

def count_vowels(s):
    """ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­çš„å…ƒéŸ³å­—æ¯æ•°é‡"""
    vowels = "aeiouAEIOU"
    count = 0
    for char in s:
        if char in vowels:
            count += 1
    return count

def is_palindrome(s):
    """åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æ˜¯å›æ–‡"""
    s = s.lower().replace(" ", "")
    return s == s[::-1]

class StringProcessor:
    """å­—ç¬¦ä¸²å¤„ç†å™¨ç±»"""
    
    def __init__(self, text):
        self.text = text
    
    def word_count(self):
        """ç»Ÿè®¡å•è¯æ•°é‡"""
        words = self.text.split()
        return len(words)
    
    def char_count(self):
        """ç»Ÿè®¡å­—ç¬¦æ•°é‡ï¼ˆåŒ…æ‹¬ç©ºæ ¼ï¼‰"""
        return len(self.text)
    
    def get_stats(self):
        """è·å–ç»Ÿè®¡ä¿¡æ¯"""
        return {
            "text": self.text,
            "word_count": self.word_count(),
            "char_count": self.char_count(),
            "vowel_count": count_vowels(self.text),
            "is_palindrome": is_palindrome(self.text)
        }

# æ¨¡å—çº§åˆ«çš„æµ‹è¯•
if __name__ == "__main__":
    print("æµ‹è¯• module2:")
    print(f"reverse_string('hello') = {reverse_string('hello')}")
    print(f"count_vowels('hello') = {count_vowels('hello')}")
    print(f"is_palindrome('racecar') = {is_palindrome('racecar')}")
    
    processor = StringProcessor("Hello world!")
    print(f"StringProcessor stats: {processor.get_stats()}")
```

### å­åŒ…ç¤ºä¾‹
```python
# my_package/utils/__init__.py
"""
utils - å·¥å…·å­åŒ…
æä¾›å„ç§å®ç”¨å·¥å…·å‡½æ•°ã€‚
"""

from .helper import format_date, generate_id
from .validator import is_email, is_phone_number

__all__ = ['format_date', 'generate_id', 'is_email', 'is_phone_number']

# my_package/utils/helper.py
import datetime
import random
import string

def format_date(date, format_str="%Y-%m-%d"):
    """æ ¼å¼åŒ–æ—¥æœŸ"""
    if isinstance(date, str):
        date = datetime.datetime.strptime(date, "%Y-%m-%d")
    return date.strftime(format_str)

def generate_id(prefix="ID", length=8):
    """ç”ŸæˆéšæœºID"""
    random_part = ''.join(random.choices(string.ascii_uppercase + string.digits, k=length))
    return f"{prefix}_{random_part}"

# my_package/utils/validator.py
import re

def is_email(email):
    """éªŒè¯ç”µå­é‚®ä»¶åœ°å€"""
    pattern = r'^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'
    return bool(re.match(pattern, email))

def is_phone_number(phone):
    """éªŒè¯æ‰‹æœºå·ç ï¼ˆä¸­å›½å¤§é™†ï¼‰"""
    pattern = r'^1[3-9]\d{9}$'
    return bool(re.match(pattern, phone))
```

### ä½¿ç”¨åŒ…
```python
# ä½¿ç”¨è‡ªå®šä¹‰åŒ…
# main_use_package.py

# æ–¹æ³•1ï¼šå¯¼å…¥æ•´ä¸ªåŒ…
import my_package

print(f"åŒ…ç‰ˆæœ¬: {my_package.__version__}")
print(f"åŒ…ä½œè€…: {my_package.__author__}")

# ä½¿ç”¨ä» __init__.py å¯¼å…¥çš„åŠŸèƒ½
result = my_package.function1(10, 5)  # å‡è®¾function1æ˜¯add
print(f"function1(10, 5) = {result}")

# æ–¹æ³•2ï¼šå¯¼å…¥ç‰¹å®šæ¨¡å—
from my_package import module1, module2

print(f"\nä½¿ç”¨module1: {module1.add(7, 3)}")
print(f"ä½¿ç”¨module2: {module2.reverse_string('hello')}")

# æ–¹æ³•3ï¼šå¯¼å…¥å­åŒ…
from my_package.utils import helper, validator

print(f"\nä½¿ç”¨utils.helper: ID = {helper.generate_id()}")
print(f"ä½¿ç”¨utils.validator: is_email('test@example.com') = {validator.is_email('test@example.com')}")

# æ–¹æ³•4ï¼šå¯¼å…¥ç‰¹å®šå‡½æ•°
from my_package.module1 import add, multiply
from my_package.utils.helper import format_date

print(f"\nç›´æ¥å¯¼å…¥å‡½æ•°: add(2, 3) = {add(2, 3)}")
print(f"ç›´æ¥å¯¼å…¥å‡½æ•°: multiply(2, 3) = {multiply(2, 3)}")

today = datetime.date.today()
print(f"æ ¼å¼åŒ–æ—¥æœŸ: {format_date(today, '%Yå¹´%mæœˆ%dæ—¥')}")

# æ–¹æ³•5ï¼šä½¿ç”¨åŒ…ä¸­çš„ç±»
from my_package.module2 import StringProcessor

processor = StringProcessor("Python is awesome!")
stats = processor.get_stats()
print(f"\nStringProcessorç»Ÿè®¡:")
for key, value in stats.items():
    print(f"  {key}: {value}")
```

### ç›¸å¯¹å¯¼å…¥ï¼ˆåŒ…å†…éƒ¨ä½¿ç”¨ï¼‰
```python
# my_package/data/processor.py
"""
ä½¿ç”¨ç›¸å¯¹å¯¼å…¥åœ¨åŒ…å†…éƒ¨å¼•ç”¨å…¶ä»–æ¨¡å—ã€‚
"""

# ç›¸å¯¹å¯¼å…¥ï¼ˆæ¨èåœ¨åŒ…å†…éƒ¨ä½¿ç”¨ï¼‰
from ..module1 import add, multiply  # ä»çˆ¶ç›®å½•å¯¼å…¥
from ..utils.helper import format_date  # ä»çˆ¶ç›®å½•çš„å­åŒ…å¯¼å…¥

def process_data(data):
    """å¤„ç†æ•°æ®"""
    result = {}
    
    # ä½¿ç”¨ç›¸å¯¹å¯¼å…¥çš„å‡½æ•°
    result['sum'] = add(data.get('a', 0), data.get('b', 0))
    result['product'] = multiply(data.get('a', 1), data.get('b', 1))
    
    # ä½¿ç”¨ç›¸å¯¹å¯¼å…¥çš„å·¥å…·å‡½æ•°
    result['processed_date'] = format_date(data.get('date', '2024-01-01'))
    
    return result

# ç»å¯¹å¯¼å…¥ï¼ˆä¹Ÿå¯ä»¥ï¼Œä½†ç›¸å¯¹å¯¼å…¥æ›´æ¸…æ™°ï¼‰
# from my_package.module1 import add, multiply
# from my_package.utils.helper import format_date

if __name__ == "__main__":
    test_data = {'a': 5, 'b': 3, 'date': '2024-05-20'}
    print(f"å¤„ç†ç»“æœ: {process_data(test_data)}")
```

---

## 6.6 ç¬¬ä¸‰æ–¹åŒ…ç®¡ç†

### 6.6.1 pip åŒ…ç®¡ç†å™¨
pip æ˜¯ Python çš„åŒ…ç®¡ç†å™¨ï¼Œç”¨äºå®‰è£…å’Œç®¡ç†ç¬¬ä¸‰æ–¹åŒ…ã€‚

```python
# pip å¸¸ç”¨å‘½ä»¤ç¤ºä¾‹ï¼ˆåœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œï¼Œä¸æ˜¯åœ¨Pythonä»£ç ä¸­ï¼‰

"""
åŸºæœ¬ pip å‘½ä»¤:
1. å®‰è£…åŒ…: pip install package_name
2. å®‰è£…ç‰¹å®šç‰ˆæœ¬: pip install package_name==1.2.3
3. å‡çº§åŒ…: pip install --upgrade package_name
4. å¸è½½åŒ…: pip uninstall package_name
5. æŸ¥çœ‹å·²å®‰è£…çš„åŒ…: pip list
6. æŸ¥çœ‹åŒ…ä¿¡æ¯: pip show package_name
7. å¯¼å‡ºä¾èµ–: pip freeze > requirements.txt
8. ä»æ–‡ä»¶å®‰è£…: pip install -r requirements.txt
9. æœç´¢åŒ…: pip search keyword
"""

# åœ¨Pythonä¸­è°ƒç”¨pipï¼ˆä¸æ¨èï¼Œé€šå¸¸ç›´æ¥åœ¨å‘½ä»¤è¡Œä½¿ç”¨ï¼‰
import subprocess
import sys

def install_package(package_name):
    """ä½¿ç”¨pipå®‰è£…åŒ…"""
    try:
        subprocess.check_call([sys.executable, "-m", "pip", "install", package_name])
        print(f"æˆåŠŸå®‰è£… {package_name}")
        return True
    except subprocess.CalledProcessError as e:
        print(f"å®‰è£…å¤±è´¥: {e}")
        return False

def list_installed_packages():
    """åˆ—å‡ºå·²å®‰è£…çš„åŒ…"""
    try:
        result = subprocess.check_output([sys.executable, "-m", "pip", "list"], text=True)
        print("å·²å®‰è£…çš„åŒ…:")
        print(result)
        return result
    except subprocess.CalledProcessError as e:
        print(f"è·å–åŒ…åˆ—è¡¨å¤±è´¥: {e}")
        return None

# æ³¨æ„ï¼šåœ¨å®é™…ä»£ç ä¸­ç›´æ¥è°ƒç”¨pipå¯èƒ½ä¸æ˜¯å¥½ä¸»æ„
# æ›´å¥½çš„åšæ³•æ˜¯åœ¨éƒ¨ç½²æ—¶é€šè¿‡requirements.txtç®¡ç†ä¾èµ–

# ç¤ºä¾‹ï¼šåˆ›å»ºå’Œä½¿ç”¨requirements.txt
"""
requirements.txt æ–‡ä»¶ç¤ºä¾‹:
# è¿™æ˜¯ä¾èµ–æ–‡ä»¶
requests==2.28.1      # ç²¾ç¡®ç‰ˆæœ¬
numpy>=1.21.0        # æœ€ä½ç‰ˆæœ¬
pandas               # æœ€æ–°ç‰ˆæœ¬
matplotlib           # æœ€æ–°ç‰ˆæœ¬
"""

def create_requirements_file(filename="requirements.txt"):
    """åˆ›å»ºrequirements.txtæ–‡ä»¶"""
    try:
        result = subprocess.check_output([sys.executable, "-m", "pip", "freeze"], text=True)
        with open(filename, "w") as f:
            f.write(result)
        print(f"å·²åˆ›å»º {filename}")
        return True
    except Exception as e:
        print(f"åˆ›å»ºå¤±è´¥: {e}")
        return False

# ä½¿ç”¨ç¤ºä¾‹ï¼ˆåœ¨å®é™…é¡¹ç›®ä¸­ï¼Œè¿™äº›å‘½ä»¤é€šå¸¸åœ¨å‘½ä»¤è¡Œæ‰§è¡Œï¼‰:
# å®‰è£…å¸¸ç”¨ç¬¬ä¸‰æ–¹åŒ…
common_packages = ["requests", "numpy", "pandas", "matplotlib", "beautifulsoup4", "flask", "django"]

print("å¸¸ç”¨ç¬¬ä¸‰æ–¹åŒ…:")
for package in common_packages:
    print(f"  - {package}")
    
print("\nå®‰è£…ç¤ºä¾‹ï¼ˆåœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œï¼‰:")
print("  pip install requests numpy pandas matplotlib")
```

### 6.6.2 è™šæ‹Ÿç¯å¢ƒ
è™šæ‹Ÿç¯å¢ƒç”¨äºéš”ç¦»ä¸åŒé¡¹ç›®çš„ä¾èµ–ã€‚

```python
# è™šæ‹Ÿç¯å¢ƒçš„ä½¿ç”¨ï¼ˆä¸»è¦åœ¨å‘½ä»¤è¡Œæ“ä½œï¼‰

"""
åˆ›å»ºå’Œä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ:

1. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ:
   - venv (Python 3.3+ å†…ç½®):
     python -m venv myenv
   
   - virtualenv (éœ€è¦å…ˆå®‰è£…):
     pip install virtualenv
     virtualenv myenv

2. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ:
   - Windows:
     myenv\Scripts\activate
   
   - macOS/Linux:
     source myenv/bin/activate

3. åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…åŒ…:
   pip install package_name

4. åœç”¨è™šæ‹Ÿç¯å¢ƒ:
   deactivate

5. åˆ é™¤è™šæ‹Ÿç¯å¢ƒ:
   ç›´æ¥åˆ é™¤è™šæ‹Ÿç¯å¢ƒç›®å½•å³å¯
"""

# åœ¨Pythonä¸­ç®¡ç†è™šæ‹Ÿç¯å¢ƒ
import venv
import os

def create_virtualenv(env_path="myenv"):
    """åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ"""
    try:
        print(f"æ­£åœ¨åˆ›å»ºè™šæ‹Ÿç¯å¢ƒåˆ° {env_path}...")
        builder = venv.EnvBuilder(with_pip=True)
        builder.create(env_path)
        print("è™šæ‹Ÿç¯å¢ƒåˆ›å»ºæˆåŠŸï¼")
        
        # æ˜¾ç¤ºæ¿€æ´»å‘½ä»¤
        print("\næ¿€æ´»è™šæ‹Ÿç¯å¢ƒ:")
        if os.name == 'nt':  # Windows
            print(f"  {env_path}\\Scripts\\activate")
        else:  # Unix/Linux/Mac
            print(f"  source {env_path}/bin/activate")
        
        return True
    except Exception as e:
        print(f"åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¤±è´¥: {e}")
        return False

def check_if_in_virtualenv():
    """æ£€æŸ¥æ˜¯å¦åœ¨è™šæ‹Ÿç¯å¢ƒä¸­"""
    in_venv = sys.prefix != sys.base_prefix
    if in_venv:
        print(f"å½“å‰åœ¨è™šæ‹Ÿç¯å¢ƒä¸­: {sys.prefix}")
    else:
        print("å½“å‰ä¸åœ¨è™šæ‹Ÿç¯å¢ƒä¸­")
    return in_venv

# å®é™…åº”ç”¨ï¼šé¡¹ç›®ä¾èµ–ç®¡ç†
"""
é¡¹ç›®ç»“æ„ç¤ºä¾‹:
my_project/
â”œâ”€â”€ .venv/                    # è™šæ‹Ÿç¯å¢ƒï¼ˆé€šå¸¸æ·»åŠ åˆ°.gitignoreï¼‰
â”œâ”€â”€ src/                      # æºä»£ç 
â”œâ”€â”€ tests/                    # æµ‹è¯•ä»£ç 
â”œâ”€â”€ requirements.txt          # ç”Ÿäº§ç¯å¢ƒä¾èµ–
â”œâ”€â”€ requirements-dev.txt      # å¼€å‘ç¯å¢ƒä¾èµ–
â””â”€â”€ README.md

requirements.txt:
requests>=2.28.0
pandas>=1.5.0
numpy>=1.23.0

requirements-dev.txt:
-r requirements.txt          # åŒ…å«ç”Ÿäº§ç¯å¢ƒä¾èµ–
pytest>=7.0.0
black>=22.0.0
flake8>=5.0.0
"""

# ä½¿ç”¨pip-toolsç®¡ç†ä¾èµ–ç‰ˆæœ¬
"""
pip-tools å¯ä»¥å¸®åŠ©ç®¡ç†ä¾èµ–ç‰ˆæœ¬:

1. å®‰è£…pip-tools:
   pip install pip-tools

2. åˆ›å»º requirements.in æ–‡ä»¶ï¼ˆæ‰‹åŠ¨æŒ‡å®šä¸»è¦ä¾èµ–ï¼‰:
   requests
   pandas
   numpy

3. ç¼–è¯‘ç”Ÿæˆ requirements.txt:
   pip-compile requirements.in

4. æ›´æ–°æ‰€æœ‰ä¾èµ–:
   pip-compile --upgrade requirements.in

5. åŒæ­¥å®‰è£…:
   pip-sync requirements.txt
"""

# å®é™…ä»£ç ï¼šæ£€æŸ¥å¹¶å®‰è£…ä¾èµ–
def check_and_install_dependencies(requirements_file="requirements.txt"):
    """æ£€æŸ¥å¹¶å®‰è£…ä¾èµ–"""
    if not os.path.exists(requirements_file):
        print(f"{requirements_file} ä¸å­˜åœ¨")
        return False
    
    try:
        print(f"æ­£åœ¨ä» {requirements_file} å®‰è£…ä¾èµ–...")
        subprocess.check_call([sys.executable, "-m", "pip", "install", "-r", requirements_file])
        print("ä¾èµ–å®‰è£…æˆåŠŸï¼")
        return True
    except subprocess.CalledProcessError as e:
        print(f"ä¾èµ–å®‰è£…å¤±è´¥: {e}")
        return False

# æ¼”ç¤º
if __name__ == "__main__":
    print("è™šæ‹Ÿç¯å¢ƒå’Œä¾èµ–ç®¡ç†æ¼”ç¤º")
    print("=" * 50)
    
    # æ£€æŸ¥æ˜¯å¦åœ¨è™šæ‹Ÿç¯å¢ƒä¸­
    check_if_in_virtualenv()
    
    print("\næç¤ºï¼šåœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå»ºè®®:")
    print("1. ä¸ºæ¯ä¸ªé¡¹ç›®åˆ›å»ºç‹¬ç«‹çš„è™šæ‹Ÿç¯å¢ƒ")
    print("2. ä½¿ç”¨ requirements.txt ç®¡ç†ä¾èµ–")
    print("3. å°†è™šæ‹Ÿç¯å¢ƒç›®å½•æ·»åŠ åˆ° .gitignore")
    print("4. åœ¨ README ä¸­è¯´æ˜å¦‚ä½•è®¾ç½®ç¯å¢ƒ")
```

---

## 6.7 ç»¼åˆç¤ºä¾‹

### ç¤ºä¾‹1ï¼šå¤©æ°”æŸ¥è¯¢å·¥å…·
```python
"""
å¤©æ°”æŸ¥è¯¢å·¥å…· - ç»¼åˆä½¿ç”¨å¤šä¸ªæ¨¡å—
"""

import requests
import json
import datetime
import sys
import os
from typing import Optional, Dict, Any

def get_weather(api_key: str, city: str) -> Optional[Dict[str, Any]]:
    """
    è·å–å¤©æ°”ä¿¡æ¯
    
    å‚æ•°:
        api_key: å¤©æ°”APIå¯†é’¥
        city: åŸå¸‚åç§°
    
    è¿”å›:
        å¤©æ°”ä¿¡æ¯å­—å…¸ï¼Œå¦‚æœå¤±è´¥åˆ™è¿”å›None
    """
    try:
        # ä½¿ç”¨å…è´¹çš„å¤©æ°”APIï¼ˆç¤ºä¾‹ï¼Œå®é™…éœ€è¦æ³¨å†Œè·å–APIå¯†é’¥ï¼‰
        url = f"https://api.openweathermap.org/data/2.5/weather"
        params = {
            "q": city,
            "appid": api_key,
            "units": "metric",  # ä½¿ç”¨æ‘„æ°åº¦
            "lang": "zh_cn"     # ä¸­æ–‡
        }
        
        print(f"æ­£åœ¨æŸ¥è¯¢ {city} çš„å¤©æ°”...")
        response = requests.get(url, params=params, timeout=10)
        response.raise_for_status()  # å¦‚æœå“åº”çŠ¶æ€ç ä¸æ˜¯200ï¼ŒæŠ›å‡ºå¼‚å¸¸
        
        data = response.json()
        return data
    
    except requests.exceptions.RequestException as e:
        print(f"ç½‘ç»œè¯·æ±‚å¤±è´¥: {e}")
    except json.JSONDecodeError as e:
        print(f"è§£æJSONå¤±è´¥: {e}")
    except Exception as e:
        print(f"è·å–å¤©æ°”å¤±è´¥: {e}")
    
    return None

def parse_weather_data(data: Dict[str, Any]) -> Dict[str, Any]:
    """
    è§£æå¤©æ°”æ•°æ®
    
    å‚æ•°:
        data: åŸå§‹å¤©æ°”æ•°æ®
    
    è¿”å›:
        è§£æåçš„å¤©æ°”ä¿¡æ¯
    """
    try:
        # æå–ä¸»è¦ä¿¡æ¯
        weather_info = {
            "city": data.get("name", "æœªçŸ¥"),
            "country": data.get("sys", {}).get("country", "æœªçŸ¥"),
            "temperature": data.get("main", {}).get("temp", 0),
            "feels_like": data.get("main", {}).get("feels_like", 0),
            "humidity": data.get("main", {}).get("humidity", 0),
            "pressure": data.get("main", {}).get("pressure", 0),
            "weather": data.get("weather", [{}])[0].get("description", "æœªçŸ¥"),
            "wind_speed": data.get("wind", {}).get("speed", 0),
            "wind_direction": data.get("wind", {}).get("deg", 0),
            "cloudiness": data.get("clouds", {}).get("all", 0),
            "visibility": data.get("visibility", 0),
            "sunrise": datetime.datetime.fromtimestamp(data.get("sys", {}).get("sunrise", 0)),
            "sunset": datetime.datetime.fromtimestamp(data.get("sys", {}).get("sunset", 0))
        }
        
        return weather_info
    
    except Exception as e:
        print(f"è§£æå¤©æ°”æ•°æ®å¤±è´¥: {e}")
        return {}

def display_weather(weather_info: Dict[str, Any]):
    """
    æ˜¾ç¤ºå¤©æ°”ä¿¡æ¯
    
    å‚æ•°:
        weather_info: å¤©æ°”ä¿¡æ¯å­—å…¸
    """
    if not weather_info:
        print("æ²¡æœ‰å¯æ˜¾ç¤ºçš„å¤©æ°”ä¿¡æ¯")
        return
    
    print("\n" + "=" * 50)
    print(f"å¤©æ°”æŠ¥å‘Š - {weather_info['city']}, {weather_info['country']}")
    print("=" * 50)
    
    print(f"ğŸŒ¡ï¸  æ¸©åº¦: {weather_info['temperature']}Â°C")
    print(f"ğŸ¤” ä½“æ„Ÿæ¸©åº¦: {weather_info['feels_like']}Â°C")
    print(f"ğŸ’§ æ¹¿åº¦: {weather_info['humidity']}%")
    print(f"ğŸŒ¬ï¸  å¤©æ°”: {weather_info['weather']}")
    print(f"ğŸ’¨ é£é€Ÿ: {weather_info['wind_speed']} m/s")
    
    # é£å‘è½¬æ¢
    wind_deg = weather_info['wind_direction']
    directions = ["åŒ—", "ä¸œåŒ—", "ä¸œ", "ä¸œå—", "å—", "è¥¿å—", "è¥¿", "è¥¿åŒ—"]
    direction_index = round(wind_deg / 45) % 8
    print(f"ğŸ§­ é£å‘: {wind_deg}Â° ({directions[direction_index]}é£)")
    
    print(f"â˜ï¸  äº‘é‡: {weather_info['cloudiness']}%")
    print(f"ğŸ‘ï¸  èƒ½è§åº¦: {weather_info['visibility'] / 1000:.1f} km")
    print(f"ğŸŒ… æ—¥å‡º: {weather_info['sunrise'].strftime('%H:%M:%S')}")
    print(f"ğŸŒ‡ æ—¥è½: {weather_info['sunset'].strftime('%H:%M:%S')}")
    
    # æ ¹æ®æ¸©åº¦ç»™å‡ºå»ºè®®
    temp = weather_info['temperature']
    if temp < 0:
        advice = "â„ï¸  éå¸¸å¯’å†·ï¼Œæ³¨æ„ä¿æš–ï¼"
    elif temp < 10:
        advice = "ğŸ§¥ å¤©æ°”è¾ƒå†·ï¼Œå»ºè®®ç©¿å¤–å¥—"
    elif temp < 20:
        advice = "ğŸ‘• å¤©æ°”å‡‰çˆ½ï¼Œé€‚å®œå‡ºè¡Œ"
    elif temp < 30:
        advice = "ğŸ‘— å¤©æ°”æ¸©æš–ï¼Œé€‚å®œæˆ·å¤–æ´»åŠ¨"
    else:
        advice = "ğŸ¥µ å¤©æ°”ç‚çƒ­ï¼Œæ³¨æ„é˜²æš‘é™æ¸©"
    
    print(f"\nğŸ’¡ å»ºè®®: {advice}")

def save_to_file(weather_info: Dict[str, Any], filename: str = "weather_log.txt"):
    """
    ä¿å­˜å¤©æ°”ä¿¡æ¯åˆ°æ–‡ä»¶
    
    å‚æ•°:
        weather_info: å¤©æ°”ä¿¡æ¯
        filename: æ–‡ä»¶å
    """
    try:
        timestamp = datetime.datetime.now().strftime("%Y-%m-%d %H:%M:%S")
        
        with open(filename, "a", encoding="utf-8") as f:
            f.write(f"\n{'='*40}\n")
            f.write(f"æŸ¥è¯¢æ—¶é—´: {timestamp}\n")
            f.write(f"åŸå¸‚: {weather_info['city']}, {weather_info['country']}\n")
            f.write(f"æ¸©åº¦: {weather_info['temperature']}Â°C\n")
            f.write(f"å¤©æ°”: {weather_info['weather']}\n")
            f.write(f"æ¹¿åº¦: {weather_info['humidity']}%\n")
        
        print(f"å¤©æ°”ä¿¡æ¯å·²ä¿å­˜åˆ° {filename}")
    
    except Exception as e:
        print(f"ä¿å­˜åˆ°æ–‡ä»¶å¤±è´¥: {e}")

def get_api_key() -> Optional[str]:
    """
    è·å–APIå¯†é’¥
    
    è¿”å›:
        APIå¯†é’¥æˆ–None
    """
    # é¦–å…ˆå°è¯•ä»ç¯å¢ƒå˜é‡è·å–
    api_key = os.environ.get("WEATHER_API_KEY")
    
    if api_key:
        print("ä»ç¯å¢ƒå˜é‡è·å–APIå¯†é’¥")
        return api_key
    
    # å°è¯•ä»é…ç½®æ–‡ä»¶è·å–
    config_file = "config.json"
    if os.path.exists(config_file):
        try:
            with open(config_file, "r", encoding="utf-8") as f:
                config = json.load(f)
                api_key = config.get("api_key")
                if api_key:
                    print("ä»é…ç½®æ–‡ä»¶è·å–APIå¯†é’¥")
                    return api_key
        except Exception:
            pass
    
    # æç¤ºç”¨æˆ·è¾“å…¥
    print("æœªæ‰¾åˆ°APIå¯†é’¥ï¼Œè¯·æ‰‹åŠ¨è¾“å…¥")
    print("æç¤ºï¼šæ‚¨å¯ä»¥åœ¨ https://openweathermap.org/api æ³¨å†Œè·å–å…è´¹APIå¯†é’¥")
    
    api_key = input("è¯·è¾“å…¥APIå¯†é’¥ (ç›´æ¥å›è½¦è·³è¿‡): ").strip()
    if api_key:
        # è¯¢é—®æ˜¯å¦ä¿å­˜
        save = input("æ˜¯å¦ä¿å­˜åˆ°é…ç½®æ–‡ä»¶ï¼Ÿ(y/n): ").lower()
        if save == 'y':
            try:
                config = {"api_key": api_key}
                with open(config_file, "w", encoding="utf-8") as f:
                    json.dump(config, f, indent=2)
                print(f"APIå¯†é’¥å·²ä¿å­˜åˆ° {config_file}")
            except Exception as e:
                print(f"ä¿å­˜é…ç½®æ–‡ä»¶å¤±è´¥: {e}")
    
    return api_key if api_key else None

def main():
    """ä¸»å‡½æ•°"""
    print("å¤©æ°”æŸ¥è¯¢å·¥å…·")
    print("=" * 50)
    
    # è·å–APIå¯†é’¥
    api_key = get_api_key()
    if not api_key:
        print("æœªæä¾›APIå¯†é’¥ï¼Œæ— æ³•æŸ¥è¯¢å¤©æ°”")
        print("æ‚¨å¯ä»¥åœ¨ https://openweathermap.org/api è·å–å…è´¹APIå¯†é’¥")
        return
    
    # ä¸»å¾ªç¯
    while True:
        print("\n" + "=" * 30)
        print("1. æŸ¥è¯¢å¤©æ°”")
        print("2. æŸ¥çœ‹æŸ¥è¯¢å†å²")
        print("3. æ¸…é™¤æŸ¥è¯¢å†å²")
        print("4. é€€å‡º")
        
        choice = input("è¯·é€‰æ‹©æ“ä½œ (1-4): ").strip()
        
        if choice == "1":
            city = input("è¯·è¾“å…¥åŸå¸‚åç§° (è‹±æ–‡ï¼Œå¦‚: Beijing): ").strip()
            if not city:
                print("åŸå¸‚åç§°ä¸èƒ½ä¸ºç©º")
                continue
            
            # è·å–å¤©æ°”æ•°æ®
            raw_data = get_weather(api_key, city)
            if raw_data and raw_data.get("cod") == 200:
                weather_info = parse_weather_data(raw_data)
                display_weather(weather_info)
                
                # è¯¢é—®æ˜¯å¦ä¿å­˜
                save = input("\næ˜¯å¦ä¿å­˜æœ¬æ¬¡æŸ¥è¯¢ç»“æœï¼Ÿ(y/n): ").lower()
                if save == 'y':
                    save_to_file(weather_info)
            elif raw_data:
                print(f"æŸ¥è¯¢å¤±è´¥: {raw_data.get('message', 'æœªçŸ¥é”™è¯¯')}")
            else:
                print("æŸ¥è¯¢å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥å’ŒAPIå¯†é’¥")
        
        elif choice == "2":
            # æŸ¥çœ‹æŸ¥è¯¢å†å²
            log_file = "weather_log.txt"
            if os.path.exists(log_file):
                try:
                    with open(log_file, "r", encoding="utf-8") as f:
                        content = f.read()
                        if content:
                            print("\næŸ¥è¯¢å†å²:")
                            print(content)
                        else:
                            print("æŸ¥è¯¢å†å²ä¸ºç©º")
                except Exception as e:
                    print(f"è¯»å–æŸ¥è¯¢å†å²å¤±è´¥: {e}")
            else:
                print("è¿˜æ²¡æœ‰æŸ¥è¯¢å†å²")
        
        elif choice == "3":
            # æ¸…é™¤æŸ¥è¯¢å†å²
            log_file = "weather_log.txt"
            if os.path.exists(log_file):
                confirm = input("ç¡®å®šè¦æ¸…é™¤æ‰€æœ‰æŸ¥è¯¢å†å²å—ï¼Ÿ(y/n): ").lower()
                if confirm == 'y':
                    try:
                        os.remove(log_file)
                        print("æŸ¥è¯¢å†å²å·²æ¸…é™¤")
                    except Exception as e:
                        print(f"æ¸…é™¤æŸ¥è¯¢å†å²å¤±è´¥: {e}")
            else:
                print("æ²¡æœ‰æŸ¥è¯¢å†å²å¯æ¸…é™¤")
        
        elif choice == "4":
            print("æ„Ÿè°¢ä½¿ç”¨å¤©æ°”æŸ¥è¯¢å·¥å…·ï¼")
            break
        
        else:
            print("æ— æ•ˆé€‰æ‹©ï¼Œè¯·é‡è¯•")

# è¿è¡Œç¨‹åº
if __name__ == "__main__":
    try:
        main()
    except KeyboardInterrupt:
        print("\n\nç¨‹åºè¢«ç”¨æˆ·ä¸­æ–­")
    except Exception as e:
        print(f"ç¨‹åºè¿è¡Œå‡ºé”™: {e}")
        sys.exit(1)
```

### ç¤ºä¾‹2ï¼šæ–‡ä»¶å¤‡ä»½å·¥å…·
```python
"""
æ–‡ä»¶å¤‡ä»½å·¥å…· - ä½¿ç”¨os, shutil, datetimeç­‰æ¨¡å—
"""

import os
import shutil
import datetime
import sys
import json
import hashlib
import zipfile
from pathlib import Path
from typing import List, Dict, Optional, Tuple

class BackupManager:
    """å¤‡ä»½ç®¡ç†å™¨"""
    
    def __init__(self, config_file: str = "backup_config.json"):
        self.config_file = config_file
        self.config = self.load_config()
        
        # å¤‡ä»½ç›®å½•
        self.backup_dir = self.config.get("backup_dir", "backups")
        os.makedirs(self.backup_dir, exist_ok=True)
    
    def load_config(self) -> Dict:
        """åŠ è½½é…ç½®æ–‡ä»¶"""
        default_config = {
            "backup_dir": "backups",
            "exclude_extensions": [".tmp", ".log", ".cache"],
            "exclude_dirs": [".git", "__pycache__", "node_modules"],
            "max_backups": 10,
            "compress_backups": True
        }
        
        if os.path.exists(self.config_file):
            try:
                with open(self.config_file, "r", encoding="utf-8") as f:
                    config = json.load(f)
                    # åˆå¹¶é…ç½®ï¼Œç”¨æˆ·é…ç½®è¦†ç›–é»˜è®¤é…ç½®
                    default_config.update(config)
                    return default_config
            except Exception as e:
                print(f"åŠ è½½é…ç½®æ–‡ä»¶å¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤é…ç½®: {e}")
        
        return default_config
    
    def save_config(self):
        """ä¿å­˜é…ç½®æ–‡ä»¶"""
        try:
            with open(self.config_file, "w", encoding="utf-8") as f:
                json.dump(self.config, f, indent=2, ensure_ascii=False)
            print(f"é…ç½®å·²ä¿å­˜åˆ° {self.config_file}")
        except Exception as e:
            print(f"ä¿å­˜é…ç½®å¤±è´¥: {e}")
    
    def calculate_file_hash(self, filepath: str) -> str:
        """è®¡ç®—æ–‡ä»¶å“ˆå¸Œå€¼"""
        hash_md5 = hashlib.md5()
        try:
            with open(filepath, "rb") as f:
                for chunk in iter(lambda: f.read(4096), b""):
                    hash_md5.update(chunk)
            return hash_md5.hexdigest()
        except Exception:
            return ""
    
    def should_backup(self, filepath: str) -> bool:
        """åˆ¤æ–­æ˜¯å¦åº”è¯¥å¤‡ä»½æ–‡ä»¶"""
        # æ£€æŸ¥æ‰©å±•å
        _, ext = os.path.splitext(filepath)
        if ext.lower() in self.config["exclude_extensions"]:
            return False
        
        # æ£€æŸ¥ç›®å½•
        for exclude_dir in self.config["exclude_dirs"]:
            if exclude_dir in filepath:
                return False
        
        return True
    
    def scan_directory(self, directory: str) -> List[Dict]:
        """æ‰«æç›®å½•ï¼Œæ”¶é›†æ–‡ä»¶ä¿¡æ¯"""
        file_info_list = []
        
        for root, dirs, files in os.walk(directory):
            # æ’é™¤ä¸éœ€è¦çš„ç›®å½•
            dirs[:] = [d for d in dirs if d not in self.config["exclude_dirs"]]
            
            for file in files:
                filepath = os.path.join(root, file)
                rel_path = os.path.relpath(filepath, directory)
                
                if self.should_backup(filepath):
                    try:
                        stat = os.stat(filepath)
                        file_info = {
                            "path": rel_path,
                            "full_path": filepath,
                            "size": stat.st_size,
                            "modified": stat.st_mtime,
                            "hash": self.calculate_file_hash(filepath)
                        }
                        file_info_list.append(file_info)
                    except Exception as e:
                        print(f"æ— æ³•è®¿é—®æ–‡ä»¶ {filepath}: {e}")
        
        return file_info_list
    
    def create_backup(self, source_dir: str, backup_name: Optional[str] = None) -> Optional[str]:
        """åˆ›å»ºå¤‡ä»½"""
        if not os.path.exists(source_dir):
            print(f"æºç›®å½•ä¸å­˜åœ¨: {source_dir}")
            return None
        
        # ç”Ÿæˆå¤‡ä»½åç§°
        timestamp = datetime.datetime.now().strftime("%Y%m%d_%H%M%S")
        if backup_name:
            backup_filename = f"{backup_name}_{timestamp}"
        else:
            dir_name = os.path.basename(os.path.normpath(source_dir))
            backup_filename = f"{dir_name}_{timestamp}"
        
        backup_path = os.path.join(self.backup_dir, backup_filename)
        
        try:
            print(f"æ­£åœ¨å¤‡ä»½ {source_dir}...")
            
            if self.config.get("compress_backups", True):
                # åˆ›å»ºå‹ç¼©å¤‡ä»½
                backup_path += ".zip"
                self.create_zip_backup(source_dir, backup_path)
            else:
                # åˆ›å»ºæ–‡ä»¶å¤¹å¤‡ä»½
                shutil.copytree(source_dir, backup_path)
            
            # åˆ›å»ºå¤‡ä»½å…ƒæ•°æ®
            metadata = {
                "backup_name": backup_filename,
                "source_dir": source_dir,
                "created_at": datetime.datetime.now().isoformat(),
                "file_count": 0,  # å®é™…åº”è¯¥åœ¨æ‰«ææ—¶ç»Ÿè®¡
                "total_size": 0   # å®é™…åº”è¯¥åœ¨æ‰«ææ—¶ç»Ÿè®¡
            }
            
            # ä¿å­˜å…ƒæ•°æ®
            metadata_file = backup_path + ".json"
            with open(metadata_file, "w", encoding="utf-8") as f:
                json.dump(metadata, f, indent=2, ensure_ascii=False)
            
            print(f"å¤‡ä»½åˆ›å»ºæˆåŠŸ: {backup_path}")
            self.cleanup_old_backups()
            
            return backup_path
        
        except Exception as e:
            print(f"åˆ›å»ºå¤‡ä»½å¤±è´¥: {e}")
            return None
    
    def create_zip_backup(self, source_dir: str, zip_path: str):
        """åˆ›å»ºZIPæ ¼å¼çš„å¤‡ä»½"""
        with zipfile.ZipFile(zip_path, 'w', zipfile.ZIP_DEFLATED) as zipf:
            for root, dirs, files in os.walk(source_dir):
                # æ’é™¤ä¸éœ€è¦çš„ç›®å½•
                dirs[:] = [d for d in dirs if d not in self.config["exclude_dirs"]]
                
                for file in files:
                    filepath = os.path.join(root, file)
                    
                    if self.should_backup(filepath):
                        # è®¡ç®—ç›¸å¯¹è·¯å¾„
                        rel_path = os.path.relpath(filepath, source_dir)
                        
                        try:
                            zipf.write(filepath, rel_path)
                        except Exception as e:
                            print(f"æ— æ³•æ·»åŠ æ–‡ä»¶åˆ°ZIP: {filepath} - {e}")
    
    def list_backups(self) -> List[Dict]:
        """åˆ—å‡ºæ‰€æœ‰å¤‡ä»½"""
        backups = []
        
        if not os.path.exists(self.backup_dir):
            return backups
        
        for item in os.listdir(self.backup_dir):
            item_path = os.path.join(self.backup_dir, item)
            
            # æ£€æŸ¥æ˜¯å¦æ˜¯å¤‡ä»½æ–‡ä»¶
            if item.endswith(".zip") or os.path.isdir(item_path):
                # æŸ¥æ‰¾å¯¹åº”çš„å…ƒæ•°æ®æ–‡ä»¶
                metadata_file = item_path + ".json"
                if os.path.exists(metadata_file):
                    try:
                        with open(metadata_file, "r", encoding="utf-8") as f:
                            metadata = json.load(f)
                            backups.append(metadata)
                    except Exception:
                        # å¦‚æœæ²¡æœ‰å…ƒæ•°æ®ï¼Œåˆ›å»ºåŸºæœ¬ä¿¡æ¯
                        stat = os.stat(item_path)
                        backups.append({
                            "backup_name": item,
                            "created_at": datetime.datetime.fromtimestamp(stat.st_mtime).isoformat(),
                            "size": stat.st_size
                        })
        
        # æŒ‰åˆ›å»ºæ—¶é—´æ’åº
        backups.sort(key=lambda x: x.get("created_at", ""), reverse=True)
        
        return backups
    
    def restore_backup(self, backup_name: str, target_dir: Optional[str] = None):
        """æ¢å¤å¤‡ä»½"""
        backup_path = os.path.join(self.backup_dir, backup_name)
        
        if not os.path.exists(backup_path):
            print(f"å¤‡ä»½ä¸å­˜åœ¨: {backup_name}")
            return False
        
        # ç¡®å®šç›®æ ‡ç›®å½•
        if target_dir is None:
            # ä»å…ƒæ•°æ®è·å–åŸå§‹ç›®å½•
            metadata_file = backup_path + ".json"
            if os.path.exists(metadata_file):
                try:
                    with open(metadata_file, "r", encoding="utf-8") as f:
                        metadata = json.load(f)
                        target_dir = metadata.get("source_dir")
                except Exception:
                    pass
        
        if target_dir is None:
            target_dir = input("è¯·è¾“å…¥æ¢å¤ç›®æ ‡ç›®å½•: ").strip()
            if not target_dir:
                print("å¿…é¡»æŒ‡å®šç›®æ ‡ç›®å½•")
                return False
        
        # å¦‚æœç›®æ ‡ç›®å½•ä¸å­˜åœ¨ï¼Œåˆ›å»ºå®ƒ
        os.makedirs(target_dir, exist_ok=True)
        
        try:
            print(f"æ­£åœ¨ä» {backup_name} æ¢å¤åˆ° {target_dir}...")
            
            if backup_path.endswith(".zip"):
                # è§£å‹ZIPå¤‡ä»½
                with zipfile.ZipFile(backup_path, 'r') as zipf:
                    zipf.extractall(target_dir)
            else:
                # å¤åˆ¶æ–‡ä»¶å¤¹å¤‡ä»½
                if os.path.exists(target_dir):
                    # å…ˆæ¸…ç©ºç›®æ ‡ç›®å½•ï¼ˆå¯é€‰ï¼Œéœ€è¦è°¨æ…ï¼‰
                    confirm = input(f"ç›®æ ‡ç›®å½• {target_dir} å·²å­˜åœ¨ï¼Œæ˜¯å¦æ¸…ç©ºï¼Ÿ(y/n): ").lower()
                    if confirm == 'y':
                        shutil.rmtree(target_dir)
                        shutil.copytree(backup_path, target_dir)
                    else:
                        # åˆå¹¶æ–‡ä»¶
                        for item in os.listdir(backup_path):
                            src = os.path.join(backup_path, item)
                            dst = os.path.join(target_dir, item)
                            if os.path.isdir(src):
                                if os.path.exists(dst):
                                    shutil.rmtree(dst)
                                shutil.copytree(src, dst)
                            else:
                                shutil.copy2(src, dst)
                else:
                    shutil.copytree(backup_path, target_dir)
            
            print(f"æ¢å¤å®Œæˆ: {target_dir}")
            return True
        
        except Exception as e:
            print(f"æ¢å¤å¤‡ä»½å¤±è´¥: {e}")
            return False
    
    def cleanup_old_backups(self):
        """æ¸…ç†æ—§çš„å¤‡ä»½"""
        max_backups = self.config.get("max_backups", 10)
        backups = self.list_backups()
        
        if len(backups) > max_backups:
            print(f"å¤‡ä»½æ•°é‡è¶…è¿‡é™åˆ¶ ({len(backups)} > {max_backups})ï¼Œæ¸…ç†æ—§å¤‡ä»½...")
            
            # æŒ‰æ—¶é—´æ’åºï¼Œä¿ç•™æœ€æ–°çš„
            backups.sort(key=lambda x: x.get("created_at", ""), reverse=True)
            
            for backup in backups[max_backups:]:
                backup_name = backup.get("backup_name")
                if backup_name:
                    self.delete_backup(backup_name)
    
    def delete_backup(self, backup_name: str):
        """åˆ é™¤å¤‡ä»½"""
        backup_path = os.path.join(self.backup_dir, backup_name)
        metadata_file = backup_path + ".json"
        
        try:
            # åˆ é™¤å¤‡ä»½æ–‡ä»¶
            if os.path.exists(backup_path):
                if os.path.isdir(backup_path):
                    shutil.rmtree(backup_path)
                else:
                    os.remove(backup_path)
            
            # åˆ é™¤å…ƒæ•°æ®æ–‡ä»¶
            if os.path.exists(metadata_file):
                os.remove(metadata_file)
            
            print(f"å·²åˆ é™¤å¤‡ä»½: {backup_name}")
            return True
        
        except Exception as e:
            print(f"åˆ é™¤å¤‡ä»½å¤±è´¥: {e}")
            return False
    
    def compare_with_backup(self, source_dir: str, backup_name: str) -> Dict[str, List]:
        """æ¯”è¾ƒå½“å‰ç›®å½•ä¸å¤‡ä»½çš„å·®å¼‚"""
        backup_path = os.path.join(self.backup_dir, backup_name)
        
        if not os.path.exists(backup_path):
            print(f"å¤‡ä»½ä¸å­˜åœ¨: {backup_name}")
            return {}
        
        # æå–å¤‡ä»½æ–‡ä»¶åˆ—è¡¨ï¼ˆå¦‚æœæ˜¯ZIPï¼‰
        backup_files = {}
        if backup_path.endswith(".zip"):
            try:
                with zipfile.ZipFile(backup_path, 'r') as zipf:
                    for file_info in zipf.infolist():
                        if not file_info.is_dir():
                            backup_files[file_info.filename] = file_info
            except Exception as e:
                print(f"è¯»å–ZIPå¤‡ä»½å¤±è´¥: {e}")
                return {}
        else:
            # å¯¹äºæ–‡ä»¶å¤¹å¤‡ä»½ï¼Œæ‰«ææ–‡ä»¶
            for root, dirs, files in os.walk(backup_path):
                for file in files:
                    filepath = os.path.join(root, file)
                    rel_path = os.path.relpath(filepath, backup_path)
                    backup_files[rel_path] = {"path": rel_path}
        
        # æ‰«æå½“å‰ç›®å½•
        current_files = {}
        for file_info in self.scan_directory(source_dir):
            current_files[file_info["path"]] = file_info
        
        # æ¯”è¾ƒå·®å¼‚
        differences = {
            "added": [],      # å¤‡ä»½ä¸­æ²¡æœ‰çš„æ–‡ä»¶
            "removed": [],    # å½“å‰ç›®å½•ä¸­æ²¡æœ‰çš„æ–‡ä»¶
            "modified": [],   # ä¿®æ”¹è¿‡çš„æ–‡ä»¶
            "unchanged": []   # æœªå˜åŒ–çš„æ–‡ä»¶
        }
        
        # æ£€æŸ¥å¤‡ä»½ä¸­æ˜¯å¦æœ‰ä½†å½“å‰ç›®å½•ä¸­æ²¡æœ‰çš„æ–‡ä»¶
        for backup_file in backup_files:
            if backup_file not in current_files:
                differences["removed"].append(backup_file)
        
        # æ£€æŸ¥å½“å‰ç›®å½•ä¸­çš„æ–‡ä»¶
        for current_file, file_info in current_files.items():
            if current_file not in backup_files:
                differences["added"].append(current_file)
            else:
                # æ£€æŸ¥æ–‡ä»¶æ˜¯å¦ä¿®æ”¹
                differences["unchanged"].append(current_file)
                # æ³¨æ„ï¼šå¯¹äºZIPå¤‡ä»½ï¼Œè¿™é‡Œç®€åŒ–å¤„ç†ï¼Œå®é™…åº”è¯¥æ¯”è¾ƒæ–‡ä»¶å†…å®¹
        
        return differences

def display_menu():
    """æ˜¾ç¤ºèœå•"""
    print("\n" + "=" * 50)
    print("æ–‡ä»¶å¤‡ä»½å·¥å…·")
    print("=" * 50)
    print("1. åˆ›å»ºå¤‡ä»½")
    print("2. åˆ—å‡ºå¤‡ä»½")
    print("3. æ¢å¤å¤‡ä»½")
    print("4. åˆ é™¤å¤‡ä»½")
    print("5. æ¯”è¾ƒå·®å¼‚")
    print("6. é…ç½®è®¾ç½®")
    print("7. é€€å‡º")
    print("=" * 50)
    
    choice = input("è¯·é€‰æ‹©æ“ä½œ (1-7): ").strip()
    return choice

def main():
    """ä¸»å‡½æ•°"""
    manager = BackupManager()
    
    while True:
        choice = display_menu()
        
        if choice == "1":
            # åˆ›å»ºå¤‡ä»½
            source_dir = input("è¯·è¾“å…¥è¦å¤‡ä»½çš„ç›®å½•è·¯å¾„: ").strip()
            if not source_dir:
                print("ç›®å½•è·¯å¾„ä¸èƒ½ä¸ºç©º")
                continue
            
            backup_name = input("è¯·è¾“å…¥å¤‡ä»½åç§° (å¯é€‰ï¼Œç›´æ¥å›è½¦ä½¿ç”¨é»˜è®¤åç§°): ").strip()
            if backup_name:
                manager.create_backup(source_dir, backup_name)
            else:
                manager.create_backup(source_dir)
        
        elif choice == "2":
            # åˆ—å‡ºå¤‡ä»½
            backups = manager.list_backups()
            if not backups:
                print("æ²¡æœ‰æ‰¾åˆ°å¤‡ä»½")
            else:
                print(f"\næ‰¾åˆ° {len(backups)} ä¸ªå¤‡ä»½:")
                print("-" * 80)
                print(f"{'å¤‡ä»½åç§°':<30} {'åˆ›å»ºæ—¶é—´':<25} {'å¤§å°':<10}")
                print("-" * 80)
                
                for backup in backups:
                    name = backup.get("backup_name", "æœªçŸ¥")
                    created_at = backup.get("created_at", "æœªçŸ¥")
                    size = backup.get("size", 0)
                    
                    # æ ¼å¼åŒ–å¤§å°
                    if size >= 1024**3:  # GB
                        size_str = f"{size/1024**3:.1f} GB"
                    elif size >= 1024**2:  # MB
                        size_str = f"{size/1024**2:.1f} MB"
                    elif size >= 1024:  # KB
                        size_str = f"{size/1024:.1f} KB"
                    else:
                        size_str = f"{size} B"
                    
                    print(f"{name:<30} {created_at:<25} {size_str:<10}")
        
        elif choice == "3":
            # æ¢å¤å¤‡ä»½
            backups = manager.list_backups()
            if not backups:
                print("æ²¡æœ‰å¯æ¢å¤çš„å¤‡ä»½")
                continue
            
            print("å¯ç”¨çš„å¤‡ä»½:")
            for i, backup in enumerate(backups, 1):
                name = backup.get("backup_name", "æœªçŸ¥")
                created_at = backup.get("created_at", "æœªçŸ¥")
                print(f"{i}. {name} ({created_at})")
            
            try:
                selection = int(input("è¯·é€‰æ‹©è¦æ¢å¤çš„å¤‡ä»½ç¼–å·: ").strip())
                if 1 <= selection <= len(backups):
                    backup_name = backups[selection-1]["backup_name"]
                    
                    target_dir = input("è¯·è¾“å…¥æ¢å¤ç›®æ ‡ç›®å½• (å¯é€‰ï¼Œç›´æ¥å›è½¦ä½¿ç”¨é»˜è®¤): ").strip()
                    if target_dir:
                        manager.restore_backup(backup_name, target_dir)
                    else:
                        manager.restore_backup(backup_name)
                else:
                    print("æ— æ•ˆçš„é€‰æ‹©")
            except ValueError:
                print("è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å­—")
        
        elif choice == "4":
            # åˆ é™¤å¤‡ä»½
            backups = manager.list_backups()
            if not backups:
                print("æ²¡æœ‰å¯åˆ é™¤çš„å¤‡ä»½")
                continue
            
            print("å¯ç”¨çš„å¤‡ä»½:")
            for i, backup in enumerate(backups, 1):
                name = backup.get("backup_name", "æœªçŸ¥")
                created_at = backup.get("created_at", "æœªçŸ¥")
                print(f"{i}. {name} ({created_at})")
            
            try:
                selection = int(input("è¯·é€‰æ‹©è¦åˆ é™¤çš„å¤‡ä»½ç¼–å·: ").strip())
                if 1 <= selection <= len(backups):
                    backup_name = backups[selection-1]["backup_name"]
                    
                    confirm = input(f"ç¡®å®šè¦åˆ é™¤å¤‡ä»½ '{backup_name}' å—ï¼Ÿ(y/n): ").lower()
                    if confirm == 'y':
                        manager.delete_backup(backup_name)
                else:
                    print("æ— æ•ˆçš„é€‰æ‹©")
            except ValueError:
                print("è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å­—")
        
        elif choice == "5":
            # æ¯”è¾ƒå·®å¼‚
            source_dir = input("è¯·è¾“å…¥è¦æ¯”è¾ƒçš„ç›®å½•è·¯å¾„: ").strip()
            if not source_dir or not os.path.exists(source_dir):
                print("ç›®å½•ä¸å­˜åœ¨")
                continue
            
            backups = manager.list_backups()
            if not backups:
                print("æ²¡æœ‰å¯æ¯”è¾ƒçš„å¤‡ä»½")
                continue
            
            print("å¯ç”¨çš„å¤‡ä»½:")
            for i, backup in enumerate(backups, 1):
                name = backup.get("backup_name", "æœªçŸ¥")
                created_at = backup.get("created_at", "æœªçŸ¥")
                print(f"{i}. {name} ({created_at})")
            
            try:
                selection = int(input("è¯·é€‰æ‹©è¦æ¯”è¾ƒçš„å¤‡ä»½ç¼–å·: ").strip())
                if 1 <= selection <= len(backups):
                    backup_name = backups[selection-1]["backup_name"]
                    
                    differences = manager.compare_with_backup(source_dir, backup_name)
                    
                    if differences:
                        print(f"\nä¸å¤‡ä»½ '{backup_name}' çš„æ¯”è¾ƒç»“æœ:")
                        print(f"  æ–°å¢æ–‡ä»¶: {len(differences.get('added', []))}")
                        print(f"  åˆ é™¤æ–‡ä»¶: {len(differences.get('removed', []))}")
                        print(f"  ä¿®æ”¹æ–‡ä»¶: {len(differences.get('modified', []))}")
                        print(f"  æœªå˜æ–‡ä»¶: {len(differences.get('unchanged', []))}")
                        
                        # æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
                        show_details = input("æ˜¯å¦æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ï¼Ÿ(y/n): ").lower()
                        if show_details == 'y':
                            if differences.get('added'):
                                print("\næ–°å¢çš„æ–‡ä»¶:")
                                for file in differences['added'][:10]:  # åªæ˜¾ç¤ºå‰10ä¸ª
                                    print(f"  + {file}")
                                if len(differences['added']) > 10:
                                    print(f"  ... è¿˜æœ‰ {len(differences['added'])-10} ä¸ª")
                            
                            if differences.get('removed'):
                                print("\nåˆ é™¤çš„æ–‡ä»¶:")
                                for file in differences['removed'][:10]:
                                    print(f"  - {file}")
                                if len(differences['removed']) > 10:
                                    print(f"  ... è¿˜æœ‰ {len(differences['removed'])-10} ä¸ª")
                    else:
                        print("æ— æ³•æ¯”è¾ƒå·®å¼‚")
                else:
                    print("æ— æ•ˆçš„é€‰æ‹©")
            except ValueError:
                print("è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å­—")
        
        elif choice == "6":
            # é…ç½®è®¾ç½®
            print("\nå½“å‰é…ç½®:")
            for key, value in manager.config.items():
                print(f"  {key}: {value}")
            
            print("\né…ç½®é€‰é¡¹:")
            print("  1. ä¿®æ”¹å¤‡ä»½ç›®å½•")
            print("  2. ä¿®æ”¹æœ€å¤§å¤‡ä»½æ•°é‡")
            print("  3. åˆ‡æ¢å‹ç¼©æ¨¡å¼")
            print("  4. è¿”å›")
            
            config_choice = input("è¯·é€‰æ‹©: ").strip()
            
            if config_choice == "1":
                new_dir = input(f"æ–°å¤‡ä»½ç›®å½• (å½“å‰: {manager.config['backup_dir']}): ").strip()
                if new_dir:
                    manager.config['backup_dir'] = new_dir
                    manager.backup_dir = new_dir
                    os.makedirs(new_dir, exist_ok=True)
                    manager.save_config()
            
            elif config_choice == "2":
                try:
                    new_max = int(input(f"æœ€å¤§å¤‡ä»½æ•°é‡ (å½“å‰: {manager.config['max_backups']}): ").strip())
                    if new_max > 0:
                        manager.config['max_backups'] = new_max
                        manager.save_config()
                except ValueError:
                    print("è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å­—")
            
            elif config_choice == "3":
                current = manager.config.get('compress_backups', True)
                new_value = not current
                manager.config['compress_backups'] = new_value
                manager.save_config()
                print(f"å‹ç¼©æ¨¡å¼å·² {'å¯ç”¨' if new_value else 'ç¦ç”¨'}")
        
        elif choice == "7":
            print("æ„Ÿè°¢ä½¿ç”¨æ–‡ä»¶å¤‡ä»½å·¥å…·ï¼")
            break
        
        else:
            print("æ— æ•ˆé€‰æ‹©ï¼Œè¯·é‡è¯•")

# è¿è¡Œç¨‹åº
if __name__ == "__main__":
    try:
        main()
    except KeyboardInterrupt:
        print("\n\nç¨‹åºè¢«ç”¨æˆ·ä¸­æ–­")
    except Exception as e:
        print(f"ç¨‹åºè¿è¡Œå‡ºé”™: {e}")
        import traceback
        traceback.print_exc()
        sys.exit(1)
```

---

## 6.8 æœ¬ç« ç»ƒä¹ 

### ç»ƒä¹ 1ï¼šæ¨¡å—å¯¼å…¥ç»ƒä¹ 
1. åˆ›å»ºä¸€ä¸ªåä¸º `string_utils.py` çš„æ¨¡å—ï¼ŒåŒ…å«ä»¥ä¸‹å‡½æ•°ï¼š
   - `reverse_string(s)`ï¼šåè½¬å­—ç¬¦ä¸²
   - `count_words(s)`ï¼šç»Ÿè®¡å•è¯æ•°é‡
   - `is_palindrome(s)`ï¼šåˆ¤æ–­æ˜¯å¦æ˜¯å›æ–‡
   
2. åˆ›å»ºä¸€ä¸ªä¸»ç¨‹åº `main.py`ï¼Œå¯¼å…¥å¹¶ä½¿ç”¨ `string_utils` æ¨¡å—ä¸­çš„å‡½æ•°ã€‚

3. ä¿®æ”¹ `string_utils.py`ï¼Œä½¿å…¶åœ¨è¢«ç›´æ¥è¿è¡Œæ—¶æ˜¾ç¤ºæµ‹è¯•ç”¨ä¾‹ã€‚

### ç»ƒä¹ 2ï¼šæ ‡å‡†åº“ä½¿ç”¨ç»ƒä¹ 
ç¼–å†™ç¨‹åºå®Œæˆä»¥ä¸‹ä»»åŠ¡ï¼š

1. ä½¿ç”¨ `datetime` æ¨¡å—è®¡ç®—ä½ çš„å¹´é¾„ï¼ˆç²¾ç¡®åˆ°å¤©ï¼‰
2. ä½¿ç”¨ `random` æ¨¡å—ç”Ÿæˆä¸€ä¸ªåŒ…å«10ä¸ªéšæœºæ•°çš„åˆ—è¡¨ï¼Œç„¶åæ‰¾å‡ºæœ€å¤§å€¼å’Œæœ€å°å€¼
3. ä½¿ç”¨ `os` æ¨¡å—éå†å½“å‰ç›®å½•ï¼Œç»Ÿè®¡æ–‡ä»¶æ•°é‡å’Œæ€»å¤§å°
4. ä½¿ç”¨ `json` æ¨¡å—å°†Pythonå­—å…¸ä¿å­˜åˆ°æ–‡ä»¶ï¼Œç„¶åå†è¯»å–å›æ¥

### ç»ƒä¹ 3ï¼šåˆ›å»ºåŒ…ç»ƒä¹ 
åˆ›å»ºä¸€ä¸ªåä¸º `calculator` çš„åŒ…ï¼Œç»“æ„å¦‚ä¸‹ï¼š
```
calculator/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ basic.py      # åŸºç¡€è¿ç®—ï¼šåŠ å‡ä¹˜é™¤
â”œâ”€â”€ advanced.py   # é«˜çº§è¿ç®—ï¼šå¹‚ã€æ ¹ã€å¯¹æ•°
â”œâ”€â”€ geometry.py   # å‡ ä½•è®¡ç®—ï¼šé¢ç§¯ã€ä½“ç§¯
â””â”€â”€ financial.py  # è´¢åŠ¡è®¡ç®—ï¼šåˆ©æ¯ã€æŠ˜æ—§
```

æ¯ä¸ªæ¨¡å—è‡³å°‘åŒ…å«3ä¸ªå‡½æ•°ï¼Œå¹¶åœ¨ `__init__.py` ä¸­å¯¼å‡ºå…³é”®å‡½æ•°ã€‚

### ç»ƒä¹ 4ï¼šç¬¬ä¸‰æ–¹åŒ…ç»ƒä¹ 
1. ä½¿ç”¨ `requests` åŒ…ï¼ˆéœ€è¦å…ˆå®‰è£…ï¼‰è·å–ä¸€ä¸ªç½‘é¡µçš„å†…å®¹
2. ä½¿ç”¨ `beautifulsoup4` åŒ…ï¼ˆéœ€è¦å…ˆå®‰è£…ï¼‰è§£æç½‘é¡µï¼Œæå–æ‰€æœ‰é“¾æ¥
3. åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒï¼Œåœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…ä»¥ä¸Šä¸¤ä¸ªåŒ…
4. ç”Ÿæˆ `requirements.txt` æ–‡ä»¶

### ç»ƒä¹ 5ï¼šé”™è¯¯å¤„ç†ç»ƒä¹ 
ä¿®æ”¹ä¸‹é¢çš„ä»£ç ï¼Œæ·»åŠ é€‚å½“çš„é”™è¯¯å¤„ç†ï¼š

```python
import json
import os

def load_config(config_file):
    """åŠ è½½é…ç½®æ–‡ä»¶"""
    with open(config_file, 'r') as f:
        config = json.load(f)
    return config

def process_data(data_file):
    """å¤„ç†æ•°æ®æ–‡ä»¶"""
    with open(data_file, 'r') as f:
        data = f.read()
    # å¤„ç†æ•°æ®...
    return processed_data

# ä½¿ç”¨å‡½æ•°
config = load_config("config.json")
result = process_data(config["data_file"])
```

### ç»ƒä¹ 6ï¼šç»¼åˆé¡¹ç›®
åˆ›å»ºä¸€ä¸ª**ä¸ªäººæ—¥è®°ç³»ç»Ÿ**ï¼Œè¦æ±‚ï¼š

1. ä½¿ç”¨å¤šä¸ªæ¨¡å—ç»„ç»‡ä»£ç ï¼š
   - `diary.py`ï¼šæ—¥è®°ç®¡ç†æ ¸å¿ƒåŠŸèƒ½
   - `storage.py`ï¼šæ•°æ®å­˜å‚¨å’Œè¯»å–ï¼ˆä½¿ç”¨JSONæˆ–æ•°æ®åº“ï¼‰
   - `ui.py`ï¼šç”¨æˆ·ç•Œé¢ï¼ˆå‘½ä»¤è¡Œæˆ–ç®€å•GUIï¼‰
   - `utils.py`ï¼šå·¥å…·å‡½æ•°

2. åŠŸèƒ½è¦æ±‚ï¼š
   - æ·»åŠ æ—¥è®°ï¼ˆæ ‡é¢˜ã€å†…å®¹ã€æ—¥æœŸã€æ ‡ç­¾ï¼‰
   - æŸ¥çœ‹æ—¥è®°åˆ—è¡¨ï¼ˆæŒ‰æ—¥æœŸã€æ ‡ç­¾ç­›é€‰ï¼‰
   - æœç´¢æ—¥è®°ï¼ˆæŒ‰å…³é”®è¯ï¼‰
   - ç¼–è¾‘å’Œåˆ é™¤æ—¥è®°
   - å¯¼å‡ºæ—¥è®°åˆ°æ–‡ä»¶

3. ä½¿ç”¨æ ‡å‡†åº“æ¨¡å—ï¼š
   - `datetime`ï¼šæ—¥æœŸæ—¶é—´å¤„ç†
   - `json` æˆ– `sqlite3`ï¼šæ•°æ®å­˜å‚¨
   - `os` æˆ– `pathlib`ï¼šæ–‡ä»¶è·¯å¾„å¤„ç†

4. å¯é€‰ï¼šä½¿ç”¨ç¬¬ä¸‰æ–¹åº“å¢å¼ºåŠŸèƒ½ï¼Œå¦‚ï¼š
   - `rich`ï¼šç¾åŒ–å‘½ä»¤è¡Œè¾“å‡º
   - `cryptography`ï¼šåŠ å¯†æ—¥è®°å†…å®¹

### ç»ƒä¹ 7ï¼šä»£ç è°ƒè¯•
æ‰¾å‡ºä»¥ä¸‹ä»£ç ä¸­çš„é—®é¢˜å¹¶ä¿®æ­£ï¼š

```python
# é—®é¢˜ä»£ç 
import maths  # é”™è¯¯çš„æ¨¡å—å

def calculate_circle_area(radius):
    return maths.pi * radius ** 2

def read_file_data(filename):
    data = open(filename)
    return data.read()

# ä½¿ç”¨
area = calculate_circle_area(5)
print(f"é¢ç§¯: {area}")

content = read_file_data("data.txt")
print(f"å†…å®¹: {content}")
```

---

## æ€»ç»“

æœ¬ç« ä¸­ï¼Œä½ å­¦ä¹ äº†ï¼š
- âœ… **æ¨¡å—å’ŒåŒ…çš„æ¦‚å¿µ**ï¼šç†è§£æ¨¡å—ã€åŒ…ã€å­åŒ…çš„ç»“æ„å’Œä½œç”¨
- âœ… **å¯¼å…¥æ¨¡å—çš„æ–¹æ³•**ï¼š`import`ã€`from...import`ã€åˆ«åã€ç›¸å¯¹å¯¼å…¥
- âœ… **å¸¸ç”¨æ ‡å‡†åº“æ¨¡å—**ï¼š`math`ã€`random`ã€`datetime`ã€`os`ã€`sys`ã€`json`
- âœ… **åˆ›å»ºè‡ªå®šä¹‰æ¨¡å—å’ŒåŒ…**ï¼šç¼–å†™å¯é‡ç”¨çš„ä»£ç æ¨¡å—ï¼Œç»„ç»‡é¡¹ç›®ç»“æ„
- âœ… **ç¬¬ä¸‰æ–¹åŒ…ç®¡ç†**ï¼šä½¿ç”¨ `pip` å®‰è£…åŒ…ï¼Œåˆ›å»ºè™šæ‹Ÿç¯å¢ƒç®¡ç†ä¾èµ–

**å…³é”®è¦ç‚¹**ï¼š
1. æ¨¡å—æ˜¯ä»£ç ç»„ç»‡çš„åŸºæœ¬å•ä½ï¼ŒåŒ…æ˜¯æ¨¡å—çš„é›†åˆ
2. åˆç†ä½¿ç”¨æ¨¡å—å¯ä»¥æé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¤ç”¨æ€§
3. Python æ ‡å‡†åº“æä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½ï¼Œå¯ä»¥æ»¡è¶³å¤§éƒ¨åˆ†æ—¥å¸¸éœ€æ±‚
4. ç¬¬ä¸‰æ–¹åŒ…æå¤§åœ°æ‰©å±•äº† Python çš„èƒ½åŠ›ï¼Œä½†éœ€è¦åˆç†ç®¡ç†ä¾èµ–
5. è™šæ‹Ÿç¯å¢ƒæ˜¯é¡¹ç›®ç®¡ç†çš„é‡è¦å·¥å…·ï¼Œå¯ä»¥é¿å…ä¾èµ–å†²çª

**ç¼–ç¨‹å»ºè®®**ï¼š
- å°†ç›¸å…³åŠŸèƒ½ç»„ç»‡åœ¨åŒä¸€ä¸ªæ¨¡å—ä¸­
- ç»™æ¨¡å—å’ŒåŒ…èµ·æœ‰æ„ä¹‰çš„åç§°
- åœ¨æ¨¡å—ä¸­æ·»åŠ æ–‡æ¡£å­—ç¬¦ä¸²è¯´æ˜åŠŸèƒ½
- ä½¿ç”¨ `if __name__ == "__main__"` æ·»åŠ æ¨¡å—æµ‹è¯•ä»£ç 
- ä¸ºé¡¹ç›®åˆ›å»ºç‹¬ç«‹çš„è™šæ‹Ÿç¯å¢ƒ
- ä½¿ç”¨ `requirements.txt` ç®¡ç†é¡¹ç›®ä¾èµ–

---

## æ‰©å±•çŸ¥è¯†
- [Python æ ‡å‡†åº“å®˜æ–¹æ–‡æ¡£](https://docs.python.org/zh-cn/3/library/index.html)
- [Python åŒ…ç´¢å¼• (PyPI)](https://pypi.org/)
- [Python è™šæ‹Ÿç¯å¢ƒæ•™ç¨‹](https://docs.python.org/zh-cn/3/tutorial/venv.html)
- [Python åŒ…ç®¡ç†æœ€ä½³å®è·µ](https://packaging.python.org/en/latest/tutorials/managing-dependencies/)

---
**ä¸‹ä¸€ç« **ï¼š[ç¬¬7ç« ï¼šé¢å‘å¯¹è±¡ç¼–ç¨‹]

> å¦‚æœæœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿åœ¨ [Issues](https://github.com/SuperF2023/python-basics-tutorial/issues) ä¸­æé—®ï¼